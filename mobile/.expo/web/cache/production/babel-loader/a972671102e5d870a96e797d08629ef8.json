{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\"],_excluded2=[\"in\",\"placement\",\"overlay\",\"duration\",\"_overlay\"];function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React,{forwardRef,memo}from'react';import Box from\"../../primitives/Box\";import PresenceTransition from\"./PresenceTransition\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";import{Overlay}from\"../../primitives/Overlay\";import{usePropsResolution}from\"../../../hooks/\";var holderStyle={top:{top:0,right:0,left:0},right:{right:0,top:0,bottom:0},bottom:{bottom:0,right:0,left:0},left:{left:0,bottom:0,top:0}};export var Slide=memo(forwardRef(function(_ref,ref){var children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);var _usePropsResolution=usePropsResolution('Slide',props),visible=_usePropsResolution.in,placement=_usePropsResolution.placement,overlay=_usePropsResolution.overlay,duration=_usePropsResolution.duration,_overlay=_usePropsResolution._overlay,resolvedProps=_objectWithoutProperties(_usePropsResolution,_excluded2);var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),containerOpacity=_React$useState2[0],setContainerOpacity=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),size=_React$useState4[0],setSize=_React$useState4[1];var provideSize=function provideSize(layoutSize){if(placement==='right'||placement==='left')setSize(layoutSize.width);else setSize(layoutSize.height);setContainerOpacity(1);};var transition={duration:duration};var animationStyle={top:{initial:{translateY:-size},animate:{translateY:0,transition:transition}},bottom:{initial:{translateY:size},animate:{translateY:0,transition:transition},exit:{translateY:size,transition:transition}},left:{initial:{translateX:-size},animate:{translateX:0,transition:transition}},right:{initial:{translateX:size},animate:{translateX:0,transition:transition}}};if(useHasResponsiveProps(props)){return null;}var slideComponent=React.createElement(PresenceTransition,_extends({visible:visible},animationStyle[placement],{style:[{position:'absolute'},holderStyle[placement],{height:'100%'}]}),React.createElement(Box,_extends({},resolvedProps,{opacity:containerOpacity,ref:ref,onLayout:function onLayout(e){return provideSize(e.nativeEvent.layout);}}),children));if(overlay){return React.createElement(React.Fragment,null,React.createElement(Overlay,_extends({isKeyboardDismissable:false},_overlay),slideComponent));}else{return slideComponent;}}));export default Slide;","map":{"version":3,"mappings":"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","names":["React","forwardRef","memo","Box","PresenceTransition","useHasResponsiveProps","Overlay","usePropsResolution","holderStyle","top","right","left","bottom","Slide","ref","children","props","visible","in","placement","overlay","duration","_overlay","resolvedProps","useState","containerOpacity","setContainerOpacity","size","setSize","provideSize","layoutSize","width","height","transition","animationStyle","initial","translateY","animate","exit","translateX","slideComponent","style","position","opacity","onLayout","e","nativeEvent","layout","isKeyboardDismissable"],"sources":["Slide.tsx"],"sourcesContent":["import React, { forwardRef, memo } from 'react';\nimport Box from '../../primitives/Box';\nimport type { ISlideProps } from './types';\nimport PresenceTransition from './PresenceTransition';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { Overlay } from '../../primitives/Overlay';\nimport { usePropsResolution } from '../../../hooks/';\n\nconst holderStyle: any = {\n  top: {\n    top: 0,\n    right: 0,\n    left: 0,\n  },\n  right: {\n    right: 0,\n    top: 0,\n    bottom: 0,\n  },\n  bottom: {\n    bottom: 0,\n    right: 0,\n    left: 0,\n  },\n  left: {\n    left: 0,\n    bottom: 0,\n    top: 0,\n  },\n};\n\nexport const Slide = memo(\n  forwardRef(({ children, ...props }: ISlideProps, ref: any) => {\n    const {\n      in: visible,\n      placement,\n      overlay,\n      duration,\n      _overlay,\n      ...resolvedProps\n    } = usePropsResolution('Slide', props);\n    const [containerOpacity, setContainerOpacity] = React.useState(0);\n    const [size, setSize] = React.useState(0);\n    const provideSize = (layoutSize: any) => {\n      if (placement === 'right' || placement === 'left')\n        setSize(layoutSize.width);\n      else setSize(layoutSize.height);\n      setContainerOpacity(1);\n    };\n\n    const transition = { duration };\n\n    const animationStyle: any = {\n      top: {\n        initial: {\n          translateY: -size,\n        },\n        animate: {\n          translateY: 0,\n          transition,\n        },\n      },\n      bottom: {\n        initial: {\n          translateY: size,\n        },\n        animate: {\n          translateY: 0,\n          transition,\n        },\n        exit: {\n          translateY: size,\n          transition,\n        },\n      },\n      left: {\n        initial: {\n          translateX: -size,\n        },\n        animate: {\n          translateX: 0,\n          transition,\n        },\n      },\n      right: {\n        initial: {\n          translateX: size,\n        },\n        animate: {\n          translateX: 0,\n          transition,\n        },\n      },\n    };\n\n    //TODO: refactor for responsive prop\n    if (useHasResponsiveProps(props)) {\n      return null;\n    }\n\n    const slideComponent = (\n      <PresenceTransition\n        visible={visible}\n        {...animationStyle[placement]}\n        style={[\n          { position: 'absolute' },\n          holderStyle[placement],\n          { height: '100%' },\n        ]}\n      >\n        <Box\n          {...resolvedProps}\n          opacity={containerOpacity}\n          ref={ref}\n          onLayout={(e) => provideSize(e.nativeEvent.layout)}\n        >\n          {children}\n        </Box>\n      </PresenceTransition>\n    );\n\n    if (overlay) {\n      return (\n        <>\n          <Overlay isKeyboardDismissable={false} {..._overlay}>\n            {slideComponent}\n          </Overlay>\n        </>\n      );\n    } else {\n      return slideComponent;\n    }\n  })\n);\n\nexport default Slide;\n"]},"metadata":{},"sourceType":"module"}