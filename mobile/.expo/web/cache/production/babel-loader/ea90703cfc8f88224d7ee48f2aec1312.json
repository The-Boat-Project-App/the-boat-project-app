{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";var _excluded=[\"ref\"],_excluded2=[\"children\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import $6nfFC$react,{useRef as $6nfFC$useRef,useContext as $6nfFC$useContext,useMemo as $6nfFC$useMemo,useEffect as $6nfFC$useEffect,useState as $6nfFC$useState,useCallback as $6nfFC$useCallback}from\"react\";import{useLayoutEffect as $6nfFC$useLayoutEffect,runAfterTransition as $6nfFC$runAfterTransition,focusWithoutScrolling as $6nfFC$focusWithoutScrolling,mergeProps as $6nfFC$mergeProps,useSyncRef as $6nfFC$useSyncRef}from\"@react-aria/utils\";import{getInteractionModality as $6nfFC$getInteractionModality,isFocusVisible as $6nfFC$isFocusVisible,useFocusVisibleListener as $6nfFC$useFocusVisibleListener,useFocus as $6nfFC$useFocus,useFocusWithin as $6nfFC$useFocusWithin,useKeyboard as $6nfFC$useKeyboard}from\"@react-aria/interactions\";import $6nfFC$clsx from\"clsx\";function $6a99195332edec8b$export$80f3e147d781571c(element){if($6nfFC$getInteractionModality()==='virtual'){var lastFocusedElement=document.activeElement;$6nfFC$runAfterTransition(function(){if(document.activeElement===lastFocusedElement&&document.contains(element))$6nfFC$focusWithoutScrolling(element);});}else $6nfFC$focusWithoutScrolling(element);}function $645f2e67b85a24c9$var$isStyleVisible(element){if(!(element instanceof HTMLElement)&&!(element instanceof SVGElement))return false;var _element$style=element.style,display=_element$style.display,visibility=_element$style.visibility;var isVisible=display!=='none'&&visibility!=='hidden'&&visibility!=='collapse';if(isVisible){var getComputedStyle=element.ownerDocument.defaultView.getComputedStyle;var _getComputedStyle=getComputedStyle(element),computedDisplay=_getComputedStyle.display,computedVisibility=_getComputedStyle.visibility;isVisible=computedDisplay!=='none'&&computedVisibility!=='hidden'&&computedVisibility!=='collapse';}return isVisible;}function $645f2e67b85a24c9$var$isAttributeVisible(element,childElement){return!element.hasAttribute('hidden')&&(element.nodeName==='DETAILS'&&childElement&&childElement.nodeName!=='SUMMARY'?element.hasAttribute('open'):true);}function $645f2e67b85a24c9$export$e989c0fffaa6b27a(element,childElement){return element.nodeName!=='#comment'&&$645f2e67b85a24c9$var$isStyleVisible(element)&&$645f2e67b85a24c9$var$isAttributeVisible(element,childElement)&&(!element.parentElement||$645f2e67b85a24c9$export$e989c0fffaa6b27a(element.parentElement,element));}var $9bf71ea28793e738$var$FocusContext=$6nfFC$react.createContext(null);var $9bf71ea28793e738$var$activeScope=null;function $9bf71ea28793e738$export$20e40289641fbbb6(props){var children=props.children,contain=props.contain,restoreFocus=props.restoreFocus,autoFocus=props.autoFocus;var startRef=$6nfFC$useRef();var endRef=$6nfFC$useRef();var scopeRef=$6nfFC$useRef([]);var ctx=$6nfFC$useContext($9bf71ea28793e738$var$FocusContext);var ref;var ctxParent=(ref=ctx===null||ctx===void 0?void 0:ctx.scopeRef)!==null&&ref!==void 0?ref:null;var parentScope1=$6nfFC$useMemo(function(){return $9bf71ea28793e738$var$activeScope&&$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope)&&!$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,ctxParent)?$9bf71ea28793e738$var$activeScope:ctxParent;},[ctxParent]);$6nfFC$useLayoutEffect(function(){var node=startRef.current.nextSibling;var nodes=[];while(node&&node!==endRef.current){nodes.push(node);node=node.nextSibling;}scopeRef.current=nodes;},[children,parentScope1]);if($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(parentScope1)&&!$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef))$9bf71ea28793e738$export$d06fae2ee68b101e.addTreeNode(scopeRef,parentScope1);var node1=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);node1.contain=contain;$9bf71ea28793e738$var$useActiveScopeTracker(scopeRef,restoreFocus,contain);$9bf71ea28793e738$var$useFocusContainment(scopeRef,contain);$9bf71ea28793e738$var$useRestoreFocus(scopeRef,restoreFocus,contain);$9bf71ea28793e738$var$useAutoFocus(scopeRef,autoFocus);$6nfFC$useLayoutEffect(function(){if(scopeRef)return function(){var parentScope=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef).parent.scopeRef;if((scopeRef===$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope(scopeRef,$9bf71ea28793e738$var$activeScope))&&(!parentScope||$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(parentScope)))$9bf71ea28793e738$var$activeScope=parentScope;$9bf71ea28793e738$export$d06fae2ee68b101e.removeTreeNode(scopeRef);};},[scopeRef,parentScope1]);var focusManager=$9bf71ea28793e738$var$createFocusManagerForScope(scopeRef);return $6nfFC$react.createElement($9bf71ea28793e738$var$FocusContext.Provider,{value:{scopeRef:scopeRef,focusManager:focusManager}},$6nfFC$react.createElement(\"span\",{\"data-focus-scope-start\":true,hidden:true,ref:startRef}),children,$6nfFC$react.createElement(\"span\",{\"data-focus-scope-end\":true,hidden:true,ref:endRef}));}function $9bf71ea28793e738$export$10c5169755ce7bd7(){var ref;return(ref=$6nfFC$useContext($9bf71ea28793e738$var$FocusContext))===null||ref===void 0?void 0:ref.focusManager;}function $9bf71ea28793e738$var$createFocusManagerForScope(scopeRef){return{focusNext:function focusNext(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var scope=scopeRef.current;var from=opts.from,tabbable=opts.tabbable,wrap=opts.wrap,accept=opts.accept;var node=from||document.activeElement;var sentinel=scope[0].previousElementSibling;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable:tabbable,accept:accept},scope);walker.currentNode=$9bf71ea28793e738$var$isElementInScope(node,scope)?node:sentinel;var nextNode=walker.nextNode();if(!nextNode&&wrap){walker.currentNode=sentinel;nextNode=walker.nextNode();}if(nextNode)$9bf71ea28793e738$var$focusElement(nextNode,true);return nextNode;},focusPrevious:function focusPrevious(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var scope=scopeRef.current;var from=opts.from,tabbable=opts.tabbable,wrap=opts.wrap,accept=opts.accept;var node=from||document.activeElement;var sentinel=scope[scope.length-1].nextElementSibling;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable:tabbable,accept:accept},scope);walker.currentNode=$9bf71ea28793e738$var$isElementInScope(node,scope)?node:sentinel;var previousNode=walker.previousNode();if(!previousNode&&wrap){walker.currentNode=sentinel;previousNode=walker.previousNode();}if(previousNode)$9bf71ea28793e738$var$focusElement(previousNode,true);return previousNode;},focusFirst:function focusFirst(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var scope=scopeRef.current;var tabbable=opts.tabbable,accept=opts.accept;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable:tabbable,accept:accept},scope);walker.currentNode=scope[0].previousElementSibling;var nextNode=walker.nextNode();if(nextNode)$9bf71ea28793e738$var$focusElement(nextNode,true);return nextNode;},focusLast:function focusLast(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var scope=scopeRef.current;var tabbable=opts.tabbable,accept=opts.accept;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable:tabbable,accept:accept},scope);walker.currentNode=scope[scope.length-1].nextElementSibling;var previousNode=walker.previousNode();if(previousNode)$9bf71ea28793e738$var$focusElement(previousNode,true);return previousNode;}};}var $9bf71ea28793e738$var$focusableElements=['input:not([disabled]):not([type=hidden])','select:not([disabled])','textarea:not([disabled])','button:not([disabled])','a[href]','area[href]','summary','iframe','object','embed','audio[controls]','video[controls]','[contenteditable]'];var $9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR=$9bf71ea28793e738$var$focusableElements.join(':not([hidden]),')+',[tabindex]:not([disabled]):not([hidden])';$9bf71ea28793e738$var$focusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');var $9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR=$9bf71ea28793e738$var$focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');function $9bf71ea28793e738$var$getScopeRoot(scope){return scope[0].parentElement;}function $9bf71ea28793e738$var$shouldContainFocus(scopeRef){var scope=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);while(scope&&scope.scopeRef!==scopeRef){if(scope.contain)return false;scope=scope.parent;}return true;}function $9bf71ea28793e738$var$useFocusContainment(scopeRef,contain){var focusedNode=$6nfFC$useRef();var raf=$6nfFC$useRef(null);$6nfFC$useLayoutEffect(function(){var scope1=scopeRef.current;if(!contain){if(raf.current){cancelAnimationFrame(raf.current);raf.current=null;}return;}var onKeyDown=function onKeyDown(e){if(e.key!=='Tab'||e.altKey||e.ctrlKey||e.metaKey||!$9bf71ea28793e738$var$shouldContainFocus(scopeRef))return;var focusedElement=document.activeElement;var scope=scopeRef.current;if(!$9bf71ea28793e738$var$isElementInScope(focusedElement,scope))return;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable:true},scope);walker.currentNode=focusedElement;var nextElement=e.shiftKey?walker.previousNode():walker.nextNode();if(!nextElement){walker.currentNode=e.shiftKey?scope[scope.length-1].nextElementSibling:scope[0].previousElementSibling;nextElement=e.shiftKey?walker.previousNode():walker.nextNode();}e.preventDefault();if(nextElement)$9bf71ea28793e738$var$focusElement(nextElement,true);};var onFocus=function onFocus(e){if((!$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,scopeRef))&&$9bf71ea28793e738$var$isElementInScope(e.target,scopeRef.current)){$9bf71ea28793e738$var$activeScope=scopeRef;focusedNode.current=e.target;}else if($9bf71ea28793e738$var$shouldContainFocus(scopeRef)&&!$9bf71ea28793e738$var$isElementInChildScope(e.target,scopeRef)){if(focusedNode.current)focusedNode.current.focus();else if($9bf71ea28793e738$var$activeScope)$9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current);}else if($9bf71ea28793e738$var$shouldContainFocus(scopeRef))focusedNode.current=e.target;};var onBlur=function onBlur(e){raf.current=requestAnimationFrame(function(){if($9bf71ea28793e738$var$shouldContainFocus(scopeRef)&&!$9bf71ea28793e738$var$isElementInChildScope(document.activeElement,scopeRef)){$9bf71ea28793e738$var$activeScope=scopeRef;if(document.body.contains(e.target)){focusedNode.current=e.target;focusedNode.current.focus();}else if($9bf71ea28793e738$var$activeScope)$9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current);}});};document.addEventListener('keydown',onKeyDown,false);document.addEventListener('focusin',onFocus,false);scope1.forEach(function(element){return element.addEventListener('focusin',onFocus,false);});scope1.forEach(function(element){return element.addEventListener('focusout',onBlur,false);});return function(){document.removeEventListener('keydown',onKeyDown,false);document.removeEventListener('focusin',onFocus,false);scope1.forEach(function(element){return element.removeEventListener('focusin',onFocus,false);});scope1.forEach(function(element){return element.removeEventListener('focusout',onBlur,false);});};},[scopeRef,contain]);$6nfFC$useEffect(function(){return function(){if(raf.current)cancelAnimationFrame(raf.current);};},[raf]);}function $9bf71ea28793e738$var$isElementInAnyScope(element){return $9bf71ea28793e738$var$isElementInChildScope(element);}function $9bf71ea28793e738$var$isElementInScope(element,scope){return scope.some(function(node){return node.contains(element);});}function $9bf71ea28793e738$var$isElementInChildScope(element){var scope=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;for(var _ref of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scope))){var s=_ref.scopeRef;if($9bf71ea28793e738$var$isElementInScope(element,s.current))return true;}return false;}function $9bf71ea28793e738$var$isAncestorScope(ancestor,scope){var ref;var parent=(ref=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scope))===null||ref===void 0?void 0:ref.parent;while(parent){if(parent.scopeRef===ancestor)return true;parent=parent.parent;}return false;}function $9bf71ea28793e738$var$focusElement(element){var scroll=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(element!=null&&!scroll)try{$6a99195332edec8b$export$80f3e147d781571c(element);}catch(err){}else if(element!=null)try{element.focus();}catch(err1){}}function $9bf71ea28793e738$var$focusFirstInScope(scope){var tabbable=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var sentinel=scope[0].previousElementSibling;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable:tabbable},scope);walker.currentNode=sentinel;var nextNode=walker.nextNode();if(tabbable&&!nextNode){walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable:false},scope);walker.currentNode=sentinel;nextNode=walker.nextNode();}$9bf71ea28793e738$var$focusElement(nextNode);}function $9bf71ea28793e738$var$useAutoFocus(scopeRef,autoFocus){var autoFocusRef=$6nfFC$react.useRef(autoFocus);$6nfFC$useEffect(function(){if(autoFocusRef.current){$9bf71ea28793e738$var$activeScope=scopeRef;if(!$9bf71ea28793e738$var$isElementInScope(document.activeElement,$9bf71ea28793e738$var$activeScope.current))$9bf71ea28793e738$var$focusFirstInScope(scopeRef.current);}autoFocusRef.current=false;},[scopeRef]);}function $9bf71ea28793e738$var$useActiveScopeTracker(scopeRef,restore,contain){$6nfFC$useLayoutEffect(function(){if(restore||contain)return;var scope=scopeRef.current;var onFocus=function onFocus(e){var target=e.target;if($9bf71ea28793e738$var$isElementInScope(target,scopeRef.current))$9bf71ea28793e738$var$activeScope=scopeRef;else if(!$9bf71ea28793e738$var$isElementInAnyScope(target))$9bf71ea28793e738$var$activeScope=null;};document.addEventListener('focusin',onFocus,false);scope.forEach(function(element){return element.addEventListener('focusin',onFocus,false);});return function(){document.removeEventListener('focusin',onFocus,false);scope.forEach(function(element){return element.removeEventListener('focusin',onFocus,false);});};},[scopeRef,restore,contain]);}function $9bf71ea28793e738$var$shouldRestoreFocus(scopeRef){var scope=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);while(scope&&scope.scopeRef!==scopeRef){if(scope.nodeToRestore)return false;scope=scope.parent;}return true;}function $9bf71ea28793e738$var$useRestoreFocus(scopeRef,restoreFocus,contain){var nodeToRestoreRef=$6nfFC$useRef(typeof document!=='undefined'?document.activeElement:null);$6nfFC$useLayoutEffect(function(){var scope=scopeRef.current;if(!restoreFocus||contain)return;var onFocus=function onFocus(){if(!$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,scopeRef))$9bf71ea28793e738$var$activeScope=scopeRef;};document.addEventListener('focusin',onFocus,false);scope.forEach(function(element){return element.addEventListener('focusin',onFocus,false);});return function(){document.removeEventListener('focusin',onFocus,false);scope.forEach(function(element){return element.removeEventListener('focusin',onFocus,false);});};},[scopeRef,contain]);$6nfFC$useLayoutEffect(function(){if(!restoreFocus)return;$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef).nodeToRestore=nodeToRestoreRef.current;var onKeyDown=function onKeyDown(e){if(e.key!=='Tab'||e.altKey||e.ctrlKey||e.metaKey)return;var focusedElement=document.activeElement;if(!$9bf71ea28793e738$var$isElementInScope(focusedElement,scopeRef.current))return;var nodeToRestore=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef).nodeToRestore;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa(document.body,{tabbable:true});walker.currentNode=focusedElement;var nextElement=e.shiftKey?walker.previousNode():walker.nextNode();if(!document.body.contains(nodeToRestore)||nodeToRestore===document.body){nodeToRestore=null;$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef).nodeToRestore=null;}if((!nextElement||!$9bf71ea28793e738$var$isElementInScope(nextElement,scopeRef.current))&&nodeToRestore){walker.currentNode=nodeToRestore;do{nextElement=e.shiftKey?walker.previousNode():walker.nextNode();}while($9bf71ea28793e738$var$isElementInScope(nextElement,scopeRef.current));e.preventDefault();e.stopPropagation();if(nextElement)$9bf71ea28793e738$var$focusElement(nextElement,true);else if(!$9bf71ea28793e738$var$isElementInAnyScope(nodeToRestore))focusedElement.blur();else $9bf71ea28793e738$var$focusElement(nodeToRestore,true);}};if(!contain)document.addEventListener('keydown',onKeyDown,true);return function(){if(!contain)document.removeEventListener('keydown',onKeyDown,true);var nodeToRestore=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef).nodeToRestore;if(restoreFocus&&nodeToRestore&&($9bf71ea28793e738$var$isElementInScope(document.activeElement,scopeRef.current)||document.activeElement===document.body&&$9bf71ea28793e738$var$shouldRestoreFocus(scopeRef))){var clonedTree=$9bf71ea28793e738$export$d06fae2ee68b101e.clone();requestAnimationFrame(function(){if(document.activeElement===document.body){var treeNode=clonedTree.getTreeNode(scopeRef);while(treeNode){if(treeNode.nodeToRestore&&document.body.contains(treeNode.nodeToRestore)){$9bf71ea28793e738$var$focusElement(treeNode.nodeToRestore);return;}treeNode=treeNode.parent;}treeNode=clonedTree.getTreeNode(scopeRef);while(treeNode){if(treeNode.scopeRef&&$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(treeNode.scopeRef)){$9bf71ea28793e738$var$focusFirstInScope(treeNode.scopeRef.current,true);return;}treeNode=treeNode.parent;}}});}};},[scopeRef,restoreFocus,contain]);}function $9bf71ea28793e738$export$2d6ec8fc375ceafa(root,opts,scope){var selector=(opts===null||opts===void 0?void 0:opts.tabbable)?$9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR:$9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR;var walker=document.createTreeWalker(root,NodeFilter.SHOW_ELEMENT,{acceptNode:function acceptNode(node){var ref;if(opts===null||opts===void 0?void 0:(ref=opts.from)===null||ref===void 0?void 0:ref.contains(node))return NodeFilter.FILTER_REJECT;if(node.matches(selector)&&$645f2e67b85a24c9$export$e989c0fffaa6b27a(node)&&(!scope||$9bf71ea28793e738$var$isElementInScope(node,scope))&&(!(opts===null||opts===void 0?void 0:opts.accept)||opts.accept(node)))return NodeFilter.FILTER_ACCEPT;return NodeFilter.FILTER_SKIP;}});if(opts===null||opts===void 0?void 0:opts.from)walker.currentNode=opts.from;return walker;}function $9bf71ea28793e738$export$c5251b9e124bf29(ref){var defaultOptions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return{focusNext:function focusNext(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var root=ref.current;if(!root)return;var from=opts.from,_opts$tabbable=opts.tabbable,tabbable=_opts$tabbable===void 0?defaultOptions.tabbable:_opts$tabbable,_opts$wrap=opts.wrap,wrap=_opts$wrap===void 0?defaultOptions.wrap:_opts$wrap,_opts$accept=opts.accept,accept=_opts$accept===void 0?defaultOptions.accept:_opts$accept;var node=from||document.activeElement;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa(root,{tabbable:tabbable,accept:accept});if(root.contains(node))walker.currentNode=node;var nextNode=walker.nextNode();if(!nextNode&&wrap){walker.currentNode=root;nextNode=walker.nextNode();}if(nextNode)$9bf71ea28793e738$var$focusElement(nextNode,true);return nextNode;},focusPrevious:function focusPrevious(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultOptions;var root=ref.current;if(!root)return;var from=opts.from,_opts$tabbable2=opts.tabbable,tabbable=_opts$tabbable2===void 0?defaultOptions.tabbable:_opts$tabbable2,_opts$wrap2=opts.wrap,wrap=_opts$wrap2===void 0?defaultOptions.wrap:_opts$wrap2,_opts$accept2=opts.accept,accept=_opts$accept2===void 0?defaultOptions.accept:_opts$accept2;var node=from||document.activeElement;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa(root,{tabbable:tabbable,accept:accept});if(root.contains(node))walker.currentNode=node;else{var next=$9bf71ea28793e738$var$last(walker);if(next)$9bf71ea28793e738$var$focusElement(next,true);return next;}var previousNode=walker.previousNode();if(!previousNode&&wrap){walker.currentNode=root;previousNode=$9bf71ea28793e738$var$last(walker);}if(previousNode)$9bf71ea28793e738$var$focusElement(previousNode,true);return previousNode;},focusFirst:function focusFirst(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultOptions;var root=ref.current;if(!root)return;var _opts$tabbable3=opts.tabbable,tabbable=_opts$tabbable3===void 0?defaultOptions.tabbable:_opts$tabbable3,_opts$accept3=opts.accept,accept=_opts$accept3===void 0?defaultOptions.accept:_opts$accept3;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa(root,{tabbable:tabbable,accept:accept});var nextNode=walker.nextNode();if(nextNode)$9bf71ea28793e738$var$focusElement(nextNode,true);return nextNode;},focusLast:function focusLast(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultOptions;var root=ref.current;if(!root)return;var _opts$tabbable4=opts.tabbable,tabbable=_opts$tabbable4===void 0?defaultOptions.tabbable:_opts$tabbable4,_opts$accept4=opts.accept,accept=_opts$accept4===void 0?defaultOptions.accept:_opts$accept4;var walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa(root,{tabbable:tabbable,accept:accept});var next=$9bf71ea28793e738$var$last(walker);if(next)$9bf71ea28793e738$var$focusElement(next,true);return next;}};}function $9bf71ea28793e738$var$last(walker){var next;var last;do{last=walker.lastChild();if(last)next=last;}while(last);return next;}var $9bf71ea28793e738$var$Tree=function(){function $9bf71ea28793e738$var$Tree(){_classCallCheck(this,$9bf71ea28793e738$var$Tree);this.fastMap=new Map();this.root=new $9bf71ea28793e738$var$TreeNode({scopeRef:null});this.fastMap.set(null,this.root);}_createClass($9bf71ea28793e738$var$Tree,[{key:\"size\",get:function get(){return this.fastMap.size;}},{key:\"getTreeNode\",value:function getTreeNode(data){return this.fastMap.get(data);}},{key:\"addTreeNode\",value:function addTreeNode(scopeRef,parent,nodeToRestore){var parentNode=this.fastMap.get(parent!==null&&parent!==void 0?parent:null);var node=new $9bf71ea28793e738$var$TreeNode({scopeRef:scopeRef});parentNode.addChild(node);node.parent=parentNode;this.fastMap.set(scopeRef,node);if(nodeToRestore)node.nodeToRestore=nodeToRestore;}},{key:\"removeTreeNode\",value:function removeTreeNode(scopeRef){if(scopeRef===null)return;var node=this.fastMap.get(scopeRef);var parentNode=node.parent;for(var current of this.traverse()){if(current!==node&&node.nodeToRestore&&current.nodeToRestore&&node.scopeRef.current&&$9bf71ea28793e738$var$isElementInScope(current.nodeToRestore,node.scopeRef.current))current.nodeToRestore=node.nodeToRestore;}var children=node.children;parentNode.removeChild(node);if(children.length>0)children.forEach(function(child){return parentNode.addChild(child);});this.fastMap.delete(node.scopeRef);}},{key:\"traverse\",value:function*traverse(){var node=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.root;if(node.scopeRef!=null)yield node;if(node.children.length>0)for(var child of node.children){yield*this.traverse(child);}}},{key:\"clone\",value:function clone(){var newTree=new $9bf71ea28793e738$var$Tree();for(var node of this.traverse()){newTree.addTreeNode(node.scopeRef,node.parent.scopeRef,node.nodeToRestore);}return newTree;}}]);return $9bf71ea28793e738$var$Tree;}();var $9bf71ea28793e738$var$TreeNode=function(){function $9bf71ea28793e738$var$TreeNode(props){_classCallCheck(this,$9bf71ea28793e738$var$TreeNode);this.children=[];this.contain=false;this.scopeRef=props.scopeRef;}_createClass($9bf71ea28793e738$var$TreeNode,[{key:\"addChild\",value:function addChild(node){this.children.push(node);node.parent=this;}},{key:\"removeChild\",value:function removeChild(node){this.children.splice(this.children.indexOf(node),1);node.parent=undefined;}}]);return $9bf71ea28793e738$var$TreeNode;}();var $9bf71ea28793e738$export$d06fae2ee68b101e=new $9bf71ea28793e738$var$Tree();function $f7dceffc5ad7768b$export$4e328f61c538687f(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _props$autoFocus=props.autoFocus,autoFocus=_props$autoFocus===void 0?false:_props$autoFocus,isTextInput=props.isTextInput,within=props.within;var state=$6nfFC$useRef({isFocused:false,isFocusVisible:autoFocus||$6nfFC$isFocusVisible()});var _$6nfFC$useState=$6nfFC$useState(false),_$6nfFC$useState2=_slicedToArray(_$6nfFC$useState,2),isFocused1=_$6nfFC$useState2[0],setFocused=_$6nfFC$useState2[1];var _$6nfFC$useState3=$6nfFC$useState(function(){return state.current.isFocused&&state.current.isFocusVisible;}),_$6nfFC$useState4=_slicedToArray(_$6nfFC$useState3,2),isFocusVisibleState=_$6nfFC$useState4[0],setFocusVisible=_$6nfFC$useState4[1];var updateState=$6nfFC$useCallback(function(){return setFocusVisible(state.current.isFocused&&state.current.isFocusVisible);},[]);var onFocusChange=$6nfFC$useCallback(function(isFocused){state.current.isFocused=isFocused;setFocused(isFocused);updateState();},[updateState]);$6nfFC$useFocusVisibleListener(function(isFocusVisible){state.current.isFocusVisible=isFocusVisible;updateState();},[],{isTextInput:isTextInput});var _$6nfFC$useFocus=$6nfFC$useFocus({isDisabled:within,onFocusChange:onFocusChange}),focusProps=_$6nfFC$useFocus.focusProps;var _$6nfFC$useFocusWithi=$6nfFC$useFocusWithin({isDisabled:!within,onFocusWithinChange:onFocusChange}),focusWithinProps=_$6nfFC$useFocusWithi.focusWithinProps;return{isFocused:isFocused1,isFocusVisible:state.current.isFocused&&isFocusVisibleState,focusProps:within?focusWithinProps:focusProps};}function $907718708eab68af$export$1a38b4ad7f578e1d(props){var _$6nfFC$clsx;var children=props.children,focusClass=props.focusClass,focusRingClass=props.focusRingClass;var _$f7dceffc5ad7768b$ex=$f7dceffc5ad7768b$export$4e328f61c538687f(props),isFocused=_$f7dceffc5ad7768b$ex.isFocused,isFocusVisible=_$f7dceffc5ad7768b$ex.isFocusVisible,focusProps=_$f7dceffc5ad7768b$ex.focusProps;var child=$6nfFC$react.Children.only(children);return $6nfFC$react.cloneElement(child,$6nfFC$mergeProps(child.props,_objectSpread(_objectSpread({},focusProps),{},{className:$6nfFC$clsx((_$6nfFC$clsx={},_defineProperty(_$6nfFC$clsx,focusClass||'',isFocused),_defineProperty(_$6nfFC$clsx,focusRingClass||'',isFocusVisible),_$6nfFC$clsx))})));}var $e6afbd83fe6ebbd2$var$FocusableContext=$6nfFC$react.createContext(null);function $e6afbd83fe6ebbd2$var$useFocusableContext(ref){var context=$6nfFC$useContext($e6afbd83fe6ebbd2$var$FocusableContext)||{};$6nfFC$useSyncRef(context,ref);var _=context.ref,otherProps=_objectWithoutProperties(context,_excluded);return otherProps;}function $e6afbd83fe6ebbd2$var$FocusableProvider(props,ref){var children=props.children,otherProps=_objectWithoutProperties(props,_excluded2);var context=_objectSpread(_objectSpread({},otherProps),{},{ref:ref});return $6nfFC$react.createElement($e6afbd83fe6ebbd2$var$FocusableContext.Provider,{value:context},children);}var $e6afbd83fe6ebbd2$export$13f3202a3e5ddd5=$6nfFC$react.forwardRef($e6afbd83fe6ebbd2$var$FocusableProvider);function $e6afbd83fe6ebbd2$export$4c014de7c8940b4c(props,domRef){var _$6nfFC$useFocus2=$6nfFC$useFocus(props),focusProps=_$6nfFC$useFocus2.focusProps;var _$6nfFC$useKeyboard=$6nfFC$useKeyboard(props),keyboardProps=_$6nfFC$useKeyboard.keyboardProps;var interactions=$6nfFC$mergeProps(focusProps,keyboardProps);var domProps=$e6afbd83fe6ebbd2$var$useFocusableContext(domRef);var interactionProps=props.isDisabled?{}:domProps;var autoFocusRef=$6nfFC$useRef(props.autoFocus);$6nfFC$useEffect(function(){if(autoFocusRef.current&&domRef.current)$6a99195332edec8b$export$80f3e147d781571c(domRef.current);autoFocusRef.current=false;},[domRef]);return{focusableProps:$6nfFC$mergeProps(_objectSpread(_objectSpread({},interactions),{},{tabIndex:props.excludeFromTabOrder&&!props.isDisabled?-1:undefined}),interactionProps)};}export{$9bf71ea28793e738$export$20e40289641fbbb6 as FocusScope,$9bf71ea28793e738$export$10c5169755ce7bd7 as useFocusManager,$9bf71ea28793e738$export$2d6ec8fc375ceafa as getFocusableTreeWalker,$9bf71ea28793e738$export$c5251b9e124bf29 as createFocusManager,$907718708eab68af$export$1a38b4ad7f578e1d as FocusRing,$e6afbd83fe6ebbd2$export$13f3202a3e5ddd5 as FocusableProvider,$e6afbd83fe6ebbd2$export$4c014de7c8940b4c as useFocusable,$f7dceffc5ad7768b$export$4e328f61c538687f as useFocusRing,$6a99195332edec8b$export$80f3e147d781571c as focusSafely};","map":{"version":3,"mappings":"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","names":["$6a99195332edec8b$export$80f3e147d781571c","element","$6nfFC$getInteractionModality","lastFocusedElement","document","activeElement","$6nfFC$runAfterTransition","contains","$6nfFC$focusWithoutScrolling","$645f2e67b85a24c9$var$isStyleVisible","HTMLElement","SVGElement","style","display","visibility","isVisible","getComputedStyle","ownerDocument","defaultView","computedDisplay","computedVisibility","$645f2e67b85a24c9$var$isAttributeVisible","childElement","hasAttribute","nodeName","$645f2e67b85a24c9$export$e989c0fffaa6b27a","parentElement","$9bf71ea28793e738$var$FocusContext","$6nfFC$react","createContext","$9bf71ea28793e738$var$activeScope","$9bf71ea28793e738$export$20e40289641fbbb6","props","children","contain","restoreFocus","autoFocus","startRef","$6nfFC$useRef","endRef","scopeRef","ctx","$6nfFC$useContext","ref","ctxParent","parentScope1","$6nfFC$useMemo","$9bf71ea28793e738$export$d06fae2ee68b101e","getTreeNode","$9bf71ea28793e738$var$isAncestorScope","$6nfFC$useLayoutEffect","node","current","nextSibling","nodes","push","addTreeNode","node1","$9bf71ea28793e738$var$useActiveScopeTracker","$9bf71ea28793e738$var$useFocusContainment","$9bf71ea28793e738$var$useRestoreFocus","$9bf71ea28793e738$var$useAutoFocus","parentScope","parent","removeTreeNode","focusManager","$9bf71ea28793e738$var$createFocusManagerForScope","Provider","value","hidden","$9bf71ea28793e738$export$10c5169755ce7bd7","focusNext","opts","scope","from","tabbable","wrap","accept","sentinel","previousElementSibling","walker","$9bf71ea28793e738$export$2d6ec8fc375ceafa","$9bf71ea28793e738$var$getScopeRoot","currentNode","$9bf71ea28793e738$var$isElementInScope","nextNode","$9bf71ea28793e738$var$focusElement","focusPrevious","length","nextElementSibling","previousNode","focusFirst","focusLast","$9bf71ea28793e738$var$focusableElements","$9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR","join","$9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR","$9bf71ea28793e738$var$shouldContainFocus","focusedNode","raf","scope1","cancelAnimationFrame","onKeyDown","e","key","altKey","ctrlKey","metaKey","focusedElement","nextElement","shiftKey","preventDefault","onFocus","target","$9bf71ea28793e738$var$isElementInChildScope","focus","$9bf71ea28793e738$var$focusFirstInScope","onBlur","requestAnimationFrame","body","addEventListener","forEach","removeEventListener","$6nfFC$useEffect","$9bf71ea28793e738$var$isElementInAnyScope","some","traverse","s","ancestor","scroll","err","err1","autoFocusRef","useRef","restore","$9bf71ea28793e738$var$shouldRestoreFocus","nodeToRestore","nodeToRestoreRef","stopPropagation","blur","clonedTree","clone","treeNode","root","selector","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","FILTER_REJECT","matches","FILTER_ACCEPT","FILTER_SKIP","$9bf71ea28793e738$export$c5251b9e124bf29","defaultOptions","next","$9bf71ea28793e738$var$last","last","lastChild","$9bf71ea28793e738$var$Tree","fastMap","Map","$9bf71ea28793e738$var$TreeNode","set","size","data","get","parentNode","addChild","removeChild","child","delete","newTree","splice","indexOf","undefined","$f7dceffc5ad7768b$export$4e328f61c538687f","isTextInput","within","state","isFocused","isFocusVisible","$6nfFC$isFocusVisible","$6nfFC$useState","isFocused1","setFocused","isFocusVisibleState","setFocusVisible","updateState","$6nfFC$useCallback","onFocusChange","$6nfFC$useFocusVisibleListener","$6nfFC$useFocus","isDisabled","focusProps","$6nfFC$useFocusWithin","onFocusWithinChange","focusWithinProps","$907718708eab68af$export$1a38b4ad7f578e1d","focusClass","focusRingClass","Children","only","cloneElement","$6nfFC$mergeProps","className","$6nfFC$clsx","$e6afbd83fe6ebbd2$var$FocusableContext","$e6afbd83fe6ebbd2$var$useFocusableContext","context","$6nfFC$useSyncRef","_","otherProps","$e6afbd83fe6ebbd2$var$FocusableProvider","$e6afbd83fe6ebbd2$export$13f3202a3e5ddd5","forwardRef","$e6afbd83fe6ebbd2$export$4c014de7c8940b4c","domRef","$6nfFC$useKeyboard","keyboardProps","interactions","domProps","interactionProps","focusableProps","tabIndex","excludeFromTabOrder"],"sources":["packages/@react-aria/focus/src/focusSafely.ts","packages/@react-aria/focus/src/isElementVisible.ts","packages/@react-aria/focus/src/FocusScope.tsx","packages/@react-aria/focus/src/useFocusRing.ts","packages/@react-aria/focus/src/FocusRing.tsx","packages/@react-aria/focus/src/useFocusable.tsx"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {focusWithoutScrolling, runAfterTransition} from '@react-aria/utils';\nimport {getInteractionModality} from '@react-aria/interactions';\n\n/**\n * A utility function that focuses an element while avoiding undesired side effects such\n * as page scrolling and screen reader issues with CSS transitions.\n */\nexport function focusSafely(element: FocusableElement) {\n  // If the user is interacting with a virtual cursor, e.g. screen reader, then\n  // wait until after any animated transitions that are currently occurring on\n  // the page before shifting focus. This avoids issues with VoiceOver on iOS\n  // causing the page to scroll when moving focus if the element is transitioning\n  // from off the screen.\n  if (getInteractionModality() === 'virtual') {\n    let lastFocusedElement = document.activeElement;\n    runAfterTransition(() => {\n      // If focus did not move and the element is still in the document, focus it.\n      if (document.activeElement === lastFocusedElement && document.contains(element)) {\n        focusWithoutScrolling(element);\n      }\n    });\n  } else {\n    focusWithoutScrolling(element);\n  }\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction isStyleVisible(element: Element) {\n  if (!(element instanceof HTMLElement) && !(element instanceof SVGElement)) {\n    return false;\n  }\n\n  let {display, visibility} = element.style;\n\n  let isVisible = (\n    display !== 'none' &&\n    visibility !== 'hidden' &&\n    visibility !== 'collapse'\n  );\n\n  if (isVisible) {\n    const {getComputedStyle} = element.ownerDocument.defaultView;\n    let {display: computedDisplay, visibility: computedVisibility} = getComputedStyle(element);\n\n    isVisible = (\n      computedDisplay !== 'none' &&\n      computedVisibility !== 'hidden' &&\n      computedVisibility !== 'collapse'\n    );\n  }\n\n  return isVisible;\n}\n\nfunction isAttributeVisible(element: Element, childElement?: Element) {\n  return (\n    !element.hasAttribute('hidden') &&\n    (element.nodeName === 'DETAILS' &&\n      childElement &&\n      childElement.nodeName !== 'SUMMARY'\n      ? element.hasAttribute('open')\n      : true)\n  );\n}\n\n/**\n * Adapted from https://github.com/testing-library/jest-dom and \n * https://github.com/vuejs/vue-test-utils-next/.\n * Licensed under the MIT License.\n * @param element - Element to evaluate for display or visibility.\n */  \nexport function isElementVisible(element: Element, childElement?: Element) {\n  return (\n    element.nodeName !== '#comment' &&\n    isStyleVisible(element) &&\n    isAttributeVisible(element, childElement) &&\n    (!element.parentElement || isElementVisible(element.parentElement, element))\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {focusSafely} from './focusSafely';\nimport {isElementVisible} from './isElementVisible';\nimport React, {ReactNode, RefObject, useContext, useEffect, useMemo, useRef} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\n\n\nexport interface FocusScopeProps {\n  /** The contents of the focus scope. */\n  children: ReactNode,\n\n  /**\n   * Whether to contain focus inside the scope, so users cannot\n   * move focus outside, for example in a modal dialog.\n   */\n  contain?: boolean,\n\n  /**\n   * Whether to restore focus back to the element that was focused\n   * when the focus scope mounted, after the focus scope unmounts.\n   */\n  restoreFocus?: boolean,\n\n  /** Whether to auto focus the first focusable element in the focus scope on mount. */\n  autoFocus?: boolean\n}\n\nexport interface FocusManagerOptions {\n  /** The element to start searching from. The currently focused element by default. */\n  from?: Element,\n  /** Whether to only include tabbable elements, or all focusable elements. */\n  tabbable?: boolean,\n  /** Whether focus should wrap around when it reaches the end of the scope. */\n  wrap?: boolean,\n  /** A callback that determines whether the given element is focused. */\n  accept?: (node: Element) => boolean\n}\n\nexport interface FocusManager {\n  /** Moves focus to the next focusable or tabbable element in the focus scope. */\n  focusNext(opts?: FocusManagerOptions): FocusableElement,\n  /** Moves focus to the previous focusable or tabbable element in the focus scope. */\n  focusPrevious(opts?: FocusManagerOptions): FocusableElement,\n  /** Moves focus to the first focusable or tabbable element in the focus scope. */\n  focusFirst(opts?: FocusManagerOptions): FocusableElement,\n    /** Moves focus to the last focusable or tabbable element in the focus scope. */\n  focusLast(opts?: FocusManagerOptions): FocusableElement\n}\n\ntype ScopeRef = RefObject<Element[]>;\ninterface IFocusContext {\n  scopeRef: ScopeRef,\n  focusManager: FocusManager\n}\n\nconst FocusContext = React.createContext<IFocusContext>(null);\n\nlet activeScope: ScopeRef = null;\n\n// This is a hacky DOM-based implementation of a FocusScope until this RFC lands in React:\n// https://github.com/reactjs/rfcs/pull/109\n\n/**\n * A FocusScope manages focus for its descendants. It supports containing focus inside\n * the scope, restoring focus to the previously focused element on unmount, and auto\n * focusing children on mount. It also acts as a container for a programmatic focus\n * management interface that can be used to move focus forward and back in response\n * to user events.\n */\nexport function FocusScope(props: FocusScopeProps) {\n  let {children, contain, restoreFocus, autoFocus} = props;\n  let startRef = useRef<HTMLSpanElement>();\n  let endRef = useRef<HTMLSpanElement>();\n  let scopeRef = useRef<Element[]>([]);\n  let ctx = useContext(FocusContext);\n\n  // The parent scope is based on the JSX tree, using context.\n  // However, if a new scope mounts outside the active scope (e.g. DialogContainer launched from a menu),\n  // we want the parent scope to be the active scope instead.\n  let ctxParent = ctx?.scopeRef ?? null;\n  let parentScope = useMemo(() => activeScope && focusScopeTree.getTreeNode(activeScope) && !isAncestorScope(activeScope, ctxParent) ? activeScope : ctxParent, [ctxParent]);\n\n  useLayoutEffect(() => {\n    // Find all rendered nodes between the sentinels and add them to the scope.\n    let node = startRef.current.nextSibling;\n    let nodes = [];\n    while (node && node !== endRef.current) {\n      nodes.push(node);\n      node = node.nextSibling;\n    }\n\n    scopeRef.current = nodes;\n  }, [children, parentScope]);\n\n  // add to the focus scope tree in render order because useEffects/useLayoutEffects run children first whereas render runs parent first\n  // which matters when constructing a tree\n  if (focusScopeTree.getTreeNode(parentScope) && !focusScopeTree.getTreeNode(scopeRef)) {\n    focusScopeTree.addTreeNode(scopeRef, parentScope);\n  }\n\n  let node = focusScopeTree.getTreeNode(scopeRef);\n  node.contain = contain;\n\n  useActiveScopeTracker(scopeRef, restoreFocus, contain);\n  useFocusContainment(scopeRef, contain);\n  useRestoreFocus(scopeRef, restoreFocus, contain);\n  useAutoFocus(scopeRef, autoFocus);\n\n  // this layout effect needs to run last so that focusScopeTree cleanup happens at the last moment possible\n  useLayoutEffect(() => {\n    if (scopeRef) {\n      return () => {\n        // Scope may have been re-parented.\n        let parentScope = focusScopeTree.getTreeNode(scopeRef).parent.scopeRef;\n\n        // Restore the active scope on unmount if this scope or a descendant scope is active.\n        // Parent effect cleanups run before children, so we need to check if the\n        // parent scope actually still exists before restoring the active scope to it.\n        if (\n          (scopeRef === activeScope || isAncestorScope(scopeRef, activeScope)) &&\n          (!parentScope || focusScopeTree.getTreeNode(parentScope))\n        ) {\n          activeScope = parentScope;\n        }\n        focusScopeTree.removeTreeNode(scopeRef);\n      };\n    }\n  }, [scopeRef, parentScope]);\n\n  let focusManager = createFocusManagerForScope(scopeRef);\n\n  return (\n    <FocusContext.Provider value={{scopeRef, focusManager}}>\n      <span data-focus-scope-start hidden ref={startRef} />\n      {children}\n      <span data-focus-scope-end hidden ref={endRef} />\n    </FocusContext.Provider>\n  );\n}\n\n/**\n * Returns a FocusManager interface for the parent FocusScope.\n * A FocusManager can be used to programmatically move focus within\n * a FocusScope, e.g. in response to user events like keyboard navigation.\n */\nexport function useFocusManager(): FocusManager {\n  return useContext(FocusContext)?.focusManager;\n}\n\nfunction createFocusManagerForScope(scopeRef: React.RefObject<Element[]>): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current;\n      let {from, tabbable, wrap, accept} = opts;\n      let node = from || document.activeElement;\n      let sentinel = scope[0].previousElementSibling;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = sentinel;\n        nextNode = walker.nextNode() as FocusableElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current;\n      let {from, tabbable, wrap, accept} = opts;\n      let node = from || document.activeElement;\n      let sentinel = scope[scope.length - 1].nextElementSibling;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = sentinel;\n        previousNode = walker.previousNode() as FocusableElement;\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = {}) {\n      let scope = scopeRef.current;\n      let {tabbable, accept} = opts;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = scope[0].previousElementSibling;\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = {}) {\n      let scope = scopeRef.current;\n      let {tabbable, accept} = opts;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = scope[scope.length - 1].nextElementSibling;\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    }\n  };\n}\n\nconst focusableElements = [\n  'input:not([disabled]):not([type=hidden])',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n  'button:not([disabled])',\n  'a[href]',\n  'area[href]',\n  'summary',\n  'iframe',\n  'object',\n  'embed',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]'\n];\n\nconst FOCUSABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]),') + ',[tabindex]:not([disabled]):not([hidden])';\n\nfocusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');\nconst TABBABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');\n\nfunction getScopeRoot(scope: Element[]) {\n  return scope[0].parentElement;\n}\n\nfunction shouldContainFocus(scopeRef: ScopeRef) {\n  let scope = focusScopeTree.getTreeNode(activeScope);\n  while (scope && scope.scopeRef !== scopeRef) {\n    if (scope.contain) {\n      return false;\n    }\n\n    scope = scope.parent;\n  }\n\n  return true;\n}\n\nfunction useFocusContainment(scopeRef: RefObject<Element[]>, contain: boolean) {\n  let focusedNode = useRef<FocusableElement>();\n\n  let raf = useRef(null);\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    if (!contain) {\n      // if contain was changed, then we should cancel any ongoing waits to pull focus back into containment\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n        raf.current = null;\n      }\n      return;\n    }\n\n    // Handle the Tab key to contain focus within the scope\n    let onKeyDown = (e) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey || !shouldContainFocus(scopeRef)) {\n        return;\n      }\n\n      let focusedElement = document.activeElement;\n      let scope = scopeRef.current;\n      if (!isElementInScope(focusedElement, scope)) {\n        return;\n      }\n\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable: true}, scope);\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n      if (!nextElement) {\n        walker.currentNode = e.shiftKey ? scope[scope.length - 1].nextElementSibling : scope[0].previousElementSibling;\n        nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode())  as FocusableElement;\n      }\n\n      e.preventDefault();\n      if (nextElement) {\n        focusElement(nextElement, true);\n      }\n    };\n\n    let onFocus = (e) => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if ((!activeScope || isAncestorScope(activeScope, scopeRef)) && isElementInScope(e.target, scopeRef.current)) {\n        activeScope = scopeRef;\n        focusedNode.current = e.target;\n      } else if (shouldContainFocus(scopeRef) && !isElementInChildScope(e.target, scopeRef)) {\n        // If a focus event occurs outside the active scope (e.g. user tabs from browser location bar),\n        // restore focus to the previously focused node or the first tabbable element in the active scope.\n        if (focusedNode.current) {\n          focusedNode.current.focus();\n        } else if (activeScope) {\n          focusFirstInScope(activeScope.current);\n        }\n      } else if (shouldContainFocus(scopeRef)) {\n        focusedNode.current = e.target;\n      }\n    };\n\n    let onBlur = (e) => {\n      // Firefox doesn't shift focus back to the Dialog properly without this\n      raf.current = requestAnimationFrame(() => {\n        // Use document.activeElement instead of e.relatedTarget so we can tell if user clicked into iframe\n        if (shouldContainFocus(scopeRef) && !isElementInChildScope(document.activeElement, scopeRef)) {\n          activeScope = scopeRef;\n          if (document.body.contains(e.target)) {\n            focusedNode.current = e.target;\n            focusedNode.current.focus();\n          } else if (activeScope) {\n            focusFirstInScope(activeScope.current);\n          }\n        }\n      });\n    };\n\n    document.addEventListener('keydown', onKeyDown, false);\n    document.addEventListener('focusin', onFocus, false);\n    scope.forEach(element => element.addEventListener('focusin', onFocus, false));\n    scope.forEach(element => element.addEventListener('focusout', onBlur, false));\n    return () => {\n      document.removeEventListener('keydown', onKeyDown, false);\n      document.removeEventListener('focusin', onFocus, false);\n      scope.forEach(element => element.removeEventListener('focusin', onFocus, false));\n      scope.forEach(element => element.removeEventListener('focusout', onBlur, false));\n    };\n  }, [scopeRef, contain]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n      }\n    };\n  }, [raf]);\n}\n\nfunction isElementInAnyScope(element: Element) {\n  return isElementInChildScope(element);\n}\n\nfunction isElementInScope(element: Element, scope: Element[]) {\n  return scope.some(node => node.contains(element));\n}\n\nfunction isElementInChildScope(element: Element, scope: ScopeRef = null) {\n  // node.contains in isElementInScope covers child scopes that are also DOM children,\n  // but does not cover child scopes in portals.\n  for (let {scopeRef: s} of focusScopeTree.traverse(focusScopeTree.getTreeNode(scope))) {\n    if (isElementInScope(element, s.current)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isAncestorScope(ancestor: ScopeRef, scope: ScopeRef) {\n  let parent = focusScopeTree.getTreeNode(scope)?.parent;\n  while (parent) {\n    if (parent.scopeRef === ancestor) {\n      return true;\n    }\n    parent = parent.parent;\n  }\n  return false;\n}\n\nfunction focusElement(element: FocusableElement | null, scroll = false) {\n  if (element != null && !scroll) {\n    try {\n      focusSafely(element);\n    } catch (err) {\n      // ignore\n    }\n  } else if (element != null) {\n    try {\n      element.focus();\n    } catch (err) {\n      // ignore\n    }\n  }\n}\n\nfunction focusFirstInScope(scope: Element[], tabbable:boolean = true) {\n  let sentinel = scope[0].previousElementSibling;\n  let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n  walker.currentNode = sentinel;\n  let nextNode = walker.nextNode();\n\n  // If the scope does not contain a tabbable element, use the first focusable element.\n  if (tabbable && !nextNode) {\n    walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable: false}, scope);\n    walker.currentNode = sentinel;\n    nextNode = walker.nextNode();\n  }\n\n  focusElement(nextNode as FocusableElement);\n}\n\nfunction useAutoFocus(scopeRef: RefObject<Element[]>, autoFocus: boolean) {\n  const autoFocusRef = React.useRef(autoFocus);\n  useEffect(() => {\n    if (autoFocusRef.current) {\n      activeScope = scopeRef;\n      if (!isElementInScope(document.activeElement, activeScope.current)) {\n        focusFirstInScope(scopeRef.current);\n      }\n    }\n    autoFocusRef.current = false;\n  }, [scopeRef]);\n}\n\nfunction useActiveScopeTracker(scopeRef: RefObject<Element[]>, restore: boolean, contain: boolean) {\n  // tracks the active scope, in case restore and contain are both false.\n  // if either are true, this is tracked in useRestoreFocus or useFocusContainment.\n  useLayoutEffect(() => {\n    if (restore || contain) {\n      return;\n    }\n\n    let scope = scopeRef.current;\n\n    let onFocus = (e: FocusEvent) => {\n      let target = e.target as Element;\n      if (isElementInScope(target, scopeRef.current)) {\n        activeScope = scopeRef;\n      } else if (!isElementInAnyScope(target)) {\n        activeScope = null;\n      }\n    };\n\n    document.addEventListener('focusin', onFocus, false);\n    scope.forEach(element => element.addEventListener('focusin', onFocus, false));\n    return () => {\n      document.removeEventListener('focusin', onFocus, false);\n      scope.forEach(element => element.removeEventListener('focusin', onFocus, false));\n    };\n  }, [scopeRef, restore, contain]);\n}\n\nfunction shouldRestoreFocus(scopeRef: ScopeRef) {\n  let scope = focusScopeTree.getTreeNode(activeScope);\n  while (scope && scope.scopeRef !== scopeRef) {\n    if (scope.nodeToRestore) {\n      return false;\n    }\n\n    scope = scope.parent;\n  }\n\n  return true;\n}\n\nfunction useRestoreFocus(scopeRef: RefObject<Element[]>, restoreFocus: boolean, contain: boolean) {\n  // create a ref during render instead of useLayoutEffect so the active element is saved before a child with autoFocus=true mounts.\n  const nodeToRestoreRef = useRef(typeof document !== 'undefined' ? document.activeElement as FocusableElement : null);\n\n  // restoring scopes should all track if they are active regardless of contain, but contain already tracks it plus logic to contain the focus\n  // restoring-non-containing scopes should only care if they become active so they can perform the restore\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    if (!restoreFocus || contain) {\n      return;\n    }\n\n    let onFocus = () => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if (!activeScope || isAncestorScope(activeScope, scopeRef)) {\n        activeScope = scopeRef;\n      }\n    };\n\n    document.addEventListener('focusin', onFocus, false);\n    scope.forEach(element => element.addEventListener('focusin', onFocus, false));\n    return () => {\n      document.removeEventListener('focusin', onFocus, false);\n      scope.forEach(element => element.removeEventListener('focusin', onFocus, false));\n    };\n  }, [scopeRef, contain]);\n\n  // useLayoutEffect instead of useEffect so the active element is saved synchronously instead of asynchronously.\n  useLayoutEffect(() => {\n    if (!restoreFocus) {\n      return;\n    }\n\n    focusScopeTree.getTreeNode(scopeRef).nodeToRestore = nodeToRestoreRef.current;\n\n    // Handle the Tab key so that tabbing out of the scope goes to the next element\n    // after the node that had focus when the scope mounted. This is important when\n    // using portals for overlays, so that focus goes to the expected element when\n    // tabbing out of the overlay.\n    let onKeyDown = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n\n      let focusedElement = document.activeElement as FocusableElement;\n      if (!isElementInScope(focusedElement, scopeRef.current)) {\n        return;\n      }\n      let nodeToRestore = focusScopeTree.getTreeNode(scopeRef).nodeToRestore;\n\n      // Create a DOM tree walker that matches all tabbable elements\n      let walker = getFocusableTreeWalker(document.body, {tabbable: true});\n\n      // Find the next tabbable element after the currently focused element\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n\n      if (!document.body.contains(nodeToRestore) || nodeToRestore === document.body) {\n        nodeToRestore = null;\n        focusScopeTree.getTreeNode(scopeRef).nodeToRestore = null;\n      }\n\n      // If there is no next element, or it is outside the current scope, move focus to the\n      // next element after the node to restore to instead.\n      if ((!nextElement || !isElementInScope(nextElement, scopeRef.current)) && nodeToRestore) {\n        walker.currentNode = nodeToRestore;\n\n        // Skip over elements within the scope, in case the scope immediately follows the node to restore.\n        do {\n          nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n        } while (isElementInScope(nextElement, scopeRef.current));\n\n        e.preventDefault();\n        e.stopPropagation();\n        if (nextElement) {\n          focusElement(nextElement, true);\n        } else {\n           // If there is no next element and the nodeToRestore isn't within a FocusScope (i.e. we are leaving the top level focus scope)\n           // then move focus to the body.\n           // Otherwise restore focus to the nodeToRestore (e.g menu within a popover -> tabbing to close the menu should move focus to menu trigger)\n          if (!isElementInAnyScope(nodeToRestore)) {\n            focusedElement.blur();\n          } else {\n            focusElement(nodeToRestore, true);\n          }\n        }\n      }\n    };\n\n    if (!contain) {\n      document.addEventListener('keydown', onKeyDown, true);\n    }\n\n    return () => {\n      if (!contain) {\n        document.removeEventListener('keydown', onKeyDown, true);\n      }\n      let nodeToRestore = focusScopeTree.getTreeNode(scopeRef).nodeToRestore;\n\n      // if we already lost focus to the body and this was the active scope, then we should attempt to restore\n      if (\n        restoreFocus\n        && nodeToRestore\n        && (\n          isElementInScope(document.activeElement, scopeRef.current)\n          || (document.activeElement === document.body && shouldRestoreFocus(scopeRef))\n        )\n      ) {\n        // freeze the focusScopeTree so it persists after the raf, otherwise during unmount nodes are removed from it\n        let clonedTree = focusScopeTree.clone();\n        requestAnimationFrame(() => {\n          // Only restore focus if we've lost focus to the body, the alternative is that focus has been purposefully moved elsewhere\n          if (document.activeElement === document.body) {\n            // look up the tree starting with our scope to find a nodeToRestore still in the DOM\n            let treeNode = clonedTree.getTreeNode(scopeRef);\n            while (treeNode) {\n              if (treeNode.nodeToRestore && document.body.contains(treeNode.nodeToRestore)) {\n                focusElement(treeNode.nodeToRestore);\n                return;\n              }\n              treeNode = treeNode.parent;\n            }\n\n            // If no nodeToRestore was found, focus the first element in the nearest\n            // ancestor scope that is still in the tree.\n            treeNode = clonedTree.getTreeNode(scopeRef);\n            while (treeNode) {\n              if (treeNode.scopeRef && focusScopeTree.getTreeNode(treeNode.scopeRef)) {\n                focusFirstInScope(treeNode.scopeRef.current, true);\n                return;\n              }\n              treeNode = treeNode.parent;\n            }\n          }\n        });\n      }\n    };\n  }, [scopeRef, restoreFocus, contain]);\n}\n\n/**\n * Create a [TreeWalker]{@link https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker}\n * that matches all focusable/tabbable elements.\n */\nexport function getFocusableTreeWalker(root: Element, opts?: FocusManagerOptions, scope?: Element[]) {\n  let selector = opts?.tabbable ? TABBABLE_ELEMENT_SELECTOR : FOCUSABLE_ELEMENT_SELECTOR;\n  let walker = document.createTreeWalker(\n    root,\n    NodeFilter.SHOW_ELEMENT,\n    {\n      acceptNode(node) {\n        // Skip nodes inside the starting node.\n        if (opts?.from?.contains(node)) {\n          return NodeFilter.FILTER_REJECT;\n        }\n\n        if ((node as Element).matches(selector)\n          && isElementVisible(node as Element)\n          && (!scope || isElementInScope(node as Element, scope))\n          && (!opts?.accept || opts.accept(node as Element))\n        ) {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n\n        return NodeFilter.FILTER_SKIP;\n      }\n    }\n  );\n\n  if (opts?.from) {\n    walker.currentNode = opts.from;\n  }\n\n  return walker;\n}\n\n/**\n * Creates a FocusManager object that can be used to move focus within an element.\n */\nexport function createFocusManager(ref: RefObject<Element>, defaultOptions: FocusManagerOptions = {}): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {from, tabbable = defaultOptions.tabbable, wrap = defaultOptions.wrap, accept = defaultOptions.accept} = opts;\n      let node = from || document.activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      if (root.contains(node)) {\n        walker.currentNode = node;\n      }\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = root;\n        nextNode = walker.nextNode() as FocusableElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {from, tabbable = defaultOptions.tabbable, wrap = defaultOptions.wrap, accept = defaultOptions.accept} = opts;\n      let node = from || document.activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      if (root.contains(node)) {\n        walker.currentNode = node;\n      } else {\n        let next = last(walker);\n        if (next) {\n          focusElement(next, true);\n        }\n        return next;\n      }\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = root;\n        previousNode = last(walker);\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {tabbable = defaultOptions.tabbable, accept = defaultOptions.accept} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {tabbable = defaultOptions.tabbable, accept = defaultOptions.accept} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      let next = last(walker);\n      if (next) {\n        focusElement(next, true);\n      }\n      return next;\n    }\n  };\n}\n\nfunction last(walker: TreeWalker) {\n  let next: FocusableElement;\n  let last: FocusableElement;\n  do {\n    last = walker.lastChild() as FocusableElement;\n    if (last) {\n      next = last;\n    }\n  } while (last);\n  return next;\n}\n\n\nclass Tree {\n  private root: TreeNode;\n  private fastMap = new Map<ScopeRef, TreeNode>();\n\n  constructor() {\n    this.root = new TreeNode({scopeRef: null});\n    this.fastMap.set(null, this.root);\n  }\n\n  get size() {\n    return this.fastMap.size;\n  }\n\n  getTreeNode(data: ScopeRef) {\n    return this.fastMap.get(data);\n  }\n\n  addTreeNode(scopeRef: ScopeRef, parent: ScopeRef, nodeToRestore?: FocusableElement) {\n    let parentNode = this.fastMap.get(parent ?? null);\n    let node = new TreeNode({scopeRef});\n    parentNode.addChild(node);\n    node.parent = parentNode;\n    this.fastMap.set(scopeRef, node);\n    if (nodeToRestore) {\n      node.nodeToRestore = nodeToRestore;\n    }\n  }\n\n  removeTreeNode(scopeRef: ScopeRef) {\n    // never remove the root\n    if (scopeRef === null) {\n      return;\n    }\n    let node = this.fastMap.get(scopeRef);\n    let parentNode = node.parent;\n    // when we remove a scope, check if any sibling scopes are trying to restore focus to something inside the scope we're removing\n    // if we are, then replace the siblings restore with the restore from the scope we're removing\n    for (let current of this.traverse()) {\n      if (\n        current !== node &&\n        node.nodeToRestore &&\n        current.nodeToRestore &&\n        node.scopeRef.current &&\n        isElementInScope(current.nodeToRestore, node.scopeRef.current)\n      ) {\n        current.nodeToRestore = node.nodeToRestore;\n      }\n    }\n    let children = node.children;\n    parentNode.removeChild(node);\n    if (children.length > 0) {\n      children.forEach(child => parentNode.addChild(child));\n    }\n    this.fastMap.delete(node.scopeRef);\n  }\n\n  // Pre Order Depth First\n  *traverse(node: TreeNode = this.root): Generator<TreeNode> {\n    if (node.scopeRef != null) {\n      yield node;\n    }\n    if (node.children.length > 0) {\n      for (let child of node.children) {\n        yield* this.traverse(child);\n      }\n    }\n  }\n\n  clone(): Tree {\n    let newTree = new Tree();\n    for (let node of this.traverse()) {\n      newTree.addTreeNode(node.scopeRef, node.parent.scopeRef, node.nodeToRestore);\n    }\n    return newTree;\n  }\n}\n\nclass TreeNode {\n  public scopeRef: ScopeRef;\n  public nodeToRestore: FocusableElement;\n  public parent: TreeNode;\n  public children: TreeNode[] = [];\n  public contain = false;\n\n  constructor(props: {scopeRef: ScopeRef}) {\n    this.scopeRef = props.scopeRef;\n  }\n  addChild(node: TreeNode) {\n    this.children.push(node);\n    node.parent = this;\n  }\n  removeChild(node: TreeNode) {\n    this.children.splice(this.children.indexOf(node), 1);\n    node.parent = undefined;\n  }\n}\n\nexport let focusScopeTree = new Tree();\n","import {DOMAttributes} from '@react-types/shared';\nimport {isFocusVisible, useFocus, useFocusVisibleListener, useFocusWithin} from '@react-aria/interactions';\nimport {useCallback, useState} from 'react';\nimport {useRef} from 'react';\n\nexport interface AriaFocusRingProps {\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default 'false'\n   */\n  within?: boolean,\n\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\nexport interface FocusRingAria {\n  /** Whether the element is currently focused. */\n  isFocused: boolean,\n\n  /** Whether keyboard focus should be visible. */\n  isFocusVisible: boolean,\n\n  /** Props to apply to the container element with the focus ring. */\n  focusProps: DOMAttributes\n}\n\n/**\n * Determines whether a focus ring should be shown to indicate keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function useFocusRing(props: AriaFocusRingProps = {}): FocusRingAria {\n  let {\n    autoFocus = false,\n    isTextInput,\n    within\n  } = props;\n  let state = useRef({\n    isFocused: false,\n    isFocusVisible: autoFocus || isFocusVisible()\n  });\n  let [isFocused, setFocused] = useState(false);\n  let [isFocusVisibleState, setFocusVisible] = useState(() => state.current.isFocused && state.current.isFocusVisible);\n\n  let updateState = useCallback(() => setFocusVisible(state.current.isFocused && state.current.isFocusVisible), []);\n\n  let onFocusChange = useCallback(isFocused => {\n    state.current.isFocused = isFocused;\n    setFocused(isFocused);\n    updateState();\n  }, [updateState]);\n\n  useFocusVisibleListener((isFocusVisible) => {\n    state.current.isFocusVisible = isFocusVisible;\n    updateState();\n  }, [], {isTextInput});\n\n  let {focusProps} = useFocus({\n    isDisabled: within,\n    onFocusChange\n  });\n\n  let {focusWithinProps} = useFocusWithin({\n    isDisabled: !within,\n    onFocusWithinChange: onFocusChange\n  });\n\n  return {\n    isFocused,\n    isFocusVisible: state.current.isFocused && isFocusVisibleState,\n    focusProps: within ? focusWithinProps : focusProps\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport clsx from 'clsx';\nimport {mergeProps} from '@react-aria/utils';\nimport React, {ReactElement} from 'react';\nimport {useFocusRing} from './useFocusRing';\n\nexport interface FocusRingProps {\n  /** Child element to apply CSS classes to. */\n  children: ReactElement,\n  /** CSS class to apply when the element is focused. */\n  focusClass?: string,\n  /** CSS class to apply when the element has keyboard focus. */\n  focusRingClass?: string,\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default false\n   */\n  within?: boolean,\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\n/**\n * A utility component that applies a CSS class when an element has keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function FocusRing(props: FocusRingProps) {\n  let {children, focusClass, focusRingClass} = props;\n  let {isFocused, isFocusVisible, focusProps} = useFocusRing(props);\n  let child = React.Children.only(children);\n\n  return React.cloneElement(child, mergeProps(child.props, {\n    ...focusProps,\n    className: clsx({\n      [focusClass || '']: isFocused,\n      [focusRingClass || '']: isFocusVisible\n    })\n  }));\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, FocusableDOMProps, FocusableElement, FocusableProps} from '@react-types/shared';\nimport {focusSafely} from './';\nimport {mergeProps, useSyncRef} from '@react-aria/utils';\nimport React, {MutableRefObject, ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\nimport {useFocus, useKeyboard} from '@react-aria/interactions';\n\nexport interface FocusableOptions extends FocusableProps, FocusableDOMProps {\n  /** Whether focus should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface FocusableProviderProps extends DOMAttributes {\n  /** The child element to provide DOM props to. */\n  children?: ReactNode\n}\n\ninterface FocusableContextValue extends FocusableProviderProps {\n  ref?: MutableRefObject<FocusableElement>\n}\n\nlet FocusableContext = React.createContext<FocusableContextValue>(null);\n\nfunction useFocusableContext(ref: RefObject<FocusableElement>): FocusableContextValue {\n  let context = useContext(FocusableContext) || {};\n  useSyncRef(context, ref);\n\n  // eslint-disable-next-line\n  let {ref: _, ...otherProps} = context;\n  return otherProps;\n}\n\n/**\n * Provides DOM props to the nearest focusable child.\n */\nfunction FocusableProvider(props: FocusableProviderProps, ref: RefObject<FocusableElement>) {\n  let {children, ...otherProps} = props;\n  let context = {\n    ...otherProps,\n    ref\n  };\n\n  return (\n    <FocusableContext.Provider value={context}>\n      {children}\n    </FocusableContext.Provider>\n  );\n}\n\nlet _FocusableProvider = React.forwardRef(FocusableProvider);\nexport {_FocusableProvider as FocusableProvider};\n\nexport interface FocusableAria {\n  /** Props for the focusable element. */\n  focusableProps: DOMAttributes\n}\n\n/**\n * Used to make an element focusable and capable of auto focus.\n */\nexport function useFocusable(props: FocusableOptions, domRef: RefObject<FocusableElement>): FocusableAria {\n  let {focusProps} = useFocus(props);\n  let {keyboardProps} = useKeyboard(props);\n  let interactions = mergeProps(focusProps, keyboardProps);\n  let domProps = useFocusableContext(domRef);\n  let interactionProps = props.isDisabled ? {} : domProps;\n  let autoFocusRef = useRef(props.autoFocus);\n\n  useEffect(() => {\n    if (autoFocusRef.current && domRef.current) {\n      focusSafely(domRef.current);\n    }\n    autoFocusRef.current = false;\n  }, [domRef]);\n\n  return {\n    focusableProps: mergeProps(\n      {\n        ...interactions,\n        tabIndex: props.excludeFromTabOrder && !props.isDisabled ? -1 : undefined\n      },\n      interactionProps\n    )\n  };\n}\n"]},"metadata":{},"sourceType":"module"}