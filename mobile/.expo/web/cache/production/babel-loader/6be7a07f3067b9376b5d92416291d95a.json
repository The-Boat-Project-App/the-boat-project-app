{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React from'react';var ariaToAccessibilityMap={'aria-activedescendant':'accessibilityActiveDescendant','aria-atomic':'accessibilityAtomic','aria-autocomplete':'accessibilityAutoComplete','aria-busy':'accessibilityBusy','aria-checked':'accessibilityChecked','aria-colcount':'accessibilityColumnCount','aria-colindex':'accessibilityColumnIndex','aria-colspan':'accessibilityColumnSpan','aria-controls':'accessibilityControls','aria-describedby':'accessibilityDescribedBy','aria-details':'accessibilityDetails','aria-disabled':'accessibilityDisabled','aria-errormessage':'accessibilityErrorMessage','aria-expanded':'accessibilityExpanded','aria-flowto':'accessibilityFlowTo','aria-haspopup':'accessibilityHasPopup','aria-hidden':'accessibilityHidden','aria-invalid':'accessibilityInvalid','aria-keyshortcuts':'accessibilityKeyShortcuts','aria-label':'accessibilityLabel','aria-labelledby':'accessibilityLabelledBy','aria-live':'accessibilityLiveRegion','aria-modal':'accessibilityModal','aria-multiline':'accessibilityMultiline','aria-multiselectable':'accessibilityMultiSelectable','aria-orientation':'accessibilityOrientation','aria-owns':'accessibilityOwns','aria-placeholder':'accessibilityPlaceholder','aria-posinset':'accessibilityPosInSet','aria-pressed':'accessibilityPressed','aria-readonly':'accessibilityReadOnly','aria-required':'accessibilityRequired','aria-roledescription':'accessibilityRoleDescription','aria-rowcount':'accessibilityRowCount','aria-rowindex':'accessibilityRowIndex','aria-rowspan':'accessibilityRowSpan','aria-selected':'accessibilitySelected','aria-setsize':'accessibilitySetSize','aria-sort':'accessibilitySort','aria-valuemax':'accessibilityValueMax','aria-valuemin':'accessibilityValueMin','aria-valuenow':'accessibilityValueNow','aria-valuetext':'accessibilityValueText'};export var mapDomPropsToRN=function mapDomPropsToRN(props){var newProps=_objectSpread({},props);if(props.tabIndex==='0'||props.tabIndex===0){newProps.focusable=true;}if(props.role){newProps.accessibilityRole=props.role;}if(props.id){newProps.nativeID=props.id;}for(var key in props){if(key.indexOf('aria')>-1){if(ariaToAccessibilityMap[key]){newProps[ariaToAccessibilityMap[key]]=props[key];}else{console.warn('@react-native-aria/utils:: ','No equivalent mapping of '+key+' found in ariaToAccessibilityMap. Please raise a PR to support this attribute.');}}else if(key.indexOf('data-')>-1){if(!newProps.dataSet){newProps.dataSet={};}newProps.dataSet[key.split('data-')[1]]=props[key];}}return newProps;};export var useMapDomPropsToRN=function useMapDomPropsToRN(props,ref){React.useEffect(function(){if(ref.current){ref.current.tabIndex=props.tabIndex;}},[props.tabIndex]);return mapDomPropsToRN(props);};","map":{"version":3,"mappings":"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","names":["React","ariaToAccessibilityMap","mapDomPropsToRN","props","newProps","tabIndex","focusable","role","accessibilityRole","id","nativeID","key","indexOf","console","warn","dataSet","split","useMapDomPropsToRN","ref","useEffect","current"],"sources":["ariaToAccessibilityMap.ts"],"sourcesContent":["import React, { RefObject } from 'react';\n\nconst ariaToAccessibilityMap: any = {\n  'aria-activedescendant': 'accessibilityActiveDescendant',\n  'aria-atomic': 'accessibilityAtomic',\n  'aria-autocomplete': 'accessibilityAutoComplete',\n  'aria-busy': 'accessibilityBusy',\n  'aria-checked': 'accessibilityChecked',\n  'aria-colcount': 'accessibilityColumnCount',\n  'aria-colindex': 'accessibilityColumnIndex',\n  'aria-colspan': 'accessibilityColumnSpan',\n  'aria-controls': 'accessibilityControls',\n  'aria-describedby': 'accessibilityDescribedBy',\n  'aria-details': 'accessibilityDetails',\n  'aria-disabled': 'accessibilityDisabled',\n  'aria-errormessage': 'accessibilityErrorMessage',\n  'aria-expanded': 'accessibilityExpanded',\n  'aria-flowto': 'accessibilityFlowTo',\n  'aria-haspopup': 'accessibilityHasPopup',\n  'aria-hidden': 'accessibilityHidden',\n  'aria-invalid': 'accessibilityInvalid',\n  'aria-keyshortcuts': 'accessibilityKeyShortcuts',\n  'aria-label': 'accessibilityLabel',\n  'aria-labelledby': 'accessibilityLabelledBy',\n  'aria-live': 'accessibilityLiveRegion',\n  'aria-modal': 'accessibilityModal',\n  'aria-multiline': 'accessibilityMultiline',\n  'aria-multiselectable': 'accessibilityMultiSelectable',\n  'aria-orientation': 'accessibilityOrientation',\n  'aria-owns': 'accessibilityOwns',\n  'aria-placeholder': 'accessibilityPlaceholder',\n  'aria-posinset': 'accessibilityPosInSet',\n  'aria-pressed': 'accessibilityPressed',\n  'aria-readonly': 'accessibilityReadOnly',\n  'aria-required': 'accessibilityRequired',\n  'aria-roledescription': 'accessibilityRoleDescription',\n  'aria-rowcount': 'accessibilityRowCount',\n  'aria-rowindex': 'accessibilityRowIndex',\n  'aria-rowspan': 'accessibilityRowSpan',\n  'aria-selected': 'accessibilitySelected',\n  'aria-setsize': 'accessibilitySetSize',\n  'aria-sort': 'accessibilitySort',\n  'aria-valuemax': 'accessibilityValueMax',\n  'aria-valuemin': 'accessibilityValueMin',\n  'aria-valuenow': 'accessibilityValueNow',\n  'aria-valuetext': 'accessibilityValueText',\n};\n\n// Refer - https://necolas.github.io/react-native-web/docs/accessibility/\nexport const mapDomPropsToRN = (props: any) => {\n  let newProps: any = { ...props };\n\n  if (props.tabIndex === '0' || props.tabIndex === 0) {\n    newProps.focusable = true;\n  }\n  // use the below hook for tabIndex\n  // useMapDomPropsToRN\n  // if (props.tabIndex === '-1' || props.tabIndex === -1) {\n  //   newProps.focusable = false;\n  // }\n\n  if (props.role) {\n    newProps.accessibilityRole = props.role;\n  }\n\n  if (props.id) {\n    newProps.nativeID = props.id;\n  }\n\n  for (let key in props) {\n    // Map aria to RN web accessibility equivalents\n    if (key.indexOf('aria') > -1) {\n      if (ariaToAccessibilityMap[key]) {\n        newProps[ariaToAccessibilityMap[key]] = props[key];\n      } else {\n        console.warn(\n          '@react-native-aria/utils:: ',\n          'No equivalent mapping of ' +\n            key +\n            ' found in ariaToAccessibilityMap. Please raise a PR to support this attribute.'\n        );\n      }\n    } else if (key.indexOf('data-') > -1) {\n      if (!newProps.dataSet) {\n        newProps.dataSet = {};\n      }\n\n      newProps.dataSet[key.split('data-')[1]] = props[key];\n    }\n  }\n\n  return newProps;\n};\n\n// RN web currently doesn't allow setting tabIndex via props, so need to be set using setNativeProps or ref\n// https://github.com/necolas/react-native-web/issues/1916\n// https://github.com/necolas/react-native-web/issues/1099\nexport const useMapDomPropsToRN = (props: any, ref: RefObject<any>) => {\n  React.useEffect(() => {\n    if (ref.current) {\n      ref.current.tabIndex = props.tabIndex;\n    }\n  }, [props.tabIndex]);\n\n  return mapDomPropsToRN(props);\n};\n"]},"metadata":{},"sourceType":"module"}