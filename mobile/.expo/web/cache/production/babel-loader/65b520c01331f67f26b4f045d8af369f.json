{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import Platform from\"react-native-web/dist/exports/Platform\";import get from'lodash.get';import{convertStringNumberToNumber}from\"./convertStringNumberToNumber\";import{resolveValueWithBreakpoint}from\"../hooks/useThemeProps/utils\";export var getRNKeyAndStyleValue=function getRNKeyAndStyleValue(_ref){var config=_ref.config,value=_ref.value,key=_ref.key,theme=_ref.theme,styledSystemProps=_ref.styledSystemProps,currentBreakpoint=_ref.currentBreakpoint;var style={};if(config===true){style=_objectSpread(_objectSpread({},style),{},_defineProperty({},key,convertStringNumberToNumber(key,value)));}else if(config){var property=config.property,scale=config.scale,properties=config.properties,transformer=config.transformer;var val=value;if(transformer){val=transformer(val,theme[scale],theme,styledSystemProps.fontSize);}else{val=get(theme[scale],value,value);}if(typeof val==='string'){if(val.endsWith('px')){val=parseFloat(val);}else if(val.endsWith('em')&&Platform.OS!=='web'){var fontSize=resolveValueWithBreakpoint(styledSystemProps.fontSize,theme.breakpoints,currentBreakpoint,key);val=parseFloat(val)*parseFloat(get(theme.fontSizes,fontSize,fontSize));}}val=convertStringNumberToNumber(key,val);if(properties){properties.forEach(function(property){style=_objectSpread(_objectSpread({},style),{},_defineProperty({},property,val));});}else if(property){style=_objectSpread(_objectSpread({},style),{},_defineProperty({},property,val));}else{style=_objectSpread(_objectSpread({},style),val);}}return style;};","map":{"version":3,"mappings":"q4BACA,MAAOA,IAAP,KAAgB,YAAhB,CACA,OAASC,2BAAT,qCACA,OAASC,0BAAT,oCAKA,MAAO,IAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,MAO1B,IANTC,OAMS,MANTA,MAMS,CALTC,KAKS,MALTA,KAKS,CAJTC,GAIS,MAJTA,GAIS,CAHTC,KAGS,MAHTA,KAGS,CAFTC,iBAES,MAFTA,iBAES,CADTC,iBACS,MADTA,iBACS,CACT,GAAIC,MAAU,CAAG,EAAjB,CACA,GAAIN,MAAM,GAAK,IAAf,CAAqB,CACnBM,KAAK,gCACAA,KADA,wBAEFJ,GAFE,CAEIL,2BAA2B,CAACK,GAAD,CAAMD,KAAN,CAF/B,EAALK,CADF,KAKO,IAAIN,MAAJ,CAAY,CAEjB,GAAQO,SAAR,CAAqDP,MAArD,CAAQO,QAAR,CAAkBC,KAAlB,CAAqDR,MAArD,CAAkBQ,KAAlB,CAAyBC,UAAzB,CAAqDT,MAArD,CAAyBS,UAAzB,CAAqCC,WAArC,CAAqDV,MAArD,CAAqCU,WAArC,CACA,GAAIC,IAAG,CAAGV,KAAV,CAEA,GAAIS,WAAJ,CAAiB,CACfC,GAAG,CAAGD,WAAW,CAACC,GAAD,CAAMR,KAAK,CAACK,KAAD,CAAX,CAAoBL,KAApB,CAA2BC,iBAAiB,CAACQ,QAA7C,CAAjBD,CADF,KAEO,CAELA,GAAG,CAAGf,GAAG,CAACO,KAAK,CAACK,KAAD,CAAN,CAAeP,KAAf,CAAsBA,KAAtB,CAATU,CACD,CAED,GAAI,MAAOA,IAAP,GAAe,QAAnB,CAA6B,CAC3B,GAAIA,GAAG,CAACE,QAAJF,CAAa,IAAbA,CAAJ,CAAwB,CACtBA,GAAG,CAAGG,UAAU,CAACH,GAAD,CAAhBA,CADF,KAEO,IAAIA,GAAG,CAACE,QAAJF,CAAa,IAAbA,GAAsBI,QAAQ,CAACC,EAATD,GAAgB,KAA1C,CAAiD,CACtD,GAAMH,SAAQ,CAAGd,0BAA0B,CACzCM,iBAAiB,CAACQ,QADuB,CAEzCT,KAAK,CAACc,WAFmC,CAGzCZ,iBAHyC,CAIzCH,GAJyC,CAA3C,CAMAS,GAAG,CACDG,UAAU,CAACH,GAAD,CAAVG,CACAA,UAAU,CAAClB,GAAG,CAACO,KAAK,CAACe,SAAP,CAAkBN,QAAlB,CAA4BA,QAA5B,CAAJ,CAFZD,CAGD,CACF,CAEDA,GAAG,CAAGd,2BAA2B,CAACK,GAAD,CAAMS,GAAN,CAAjCA,CAEA,GAAIF,UAAJ,CAAgB,CAEdA,UAAU,CAACU,OAAXV,CAAoBF,iBAAD,CAAc,CAC/BD,KAAK,gCACAA,KADA,wBAEFC,QAFE,CAESI,GAFT,EAALL,CADF,GAFF,KAQO,IAAIC,QAAJ,CAAc,CACnBD,KAAK,gCACAA,KADA,wBAEFC,QAFE,CAESI,GAFT,EAALL,CADK,KAKA,CACLA,KAAK,gCACAA,KADA,EAEAK,GAFA,CAALL,CAID,CACF,CAED,MAAOA,MAAP,CAjEK","names":["get","convertStringNumberToNumber","resolveValueWithBreakpoint","getRNKeyAndStyleValue","config","value","key","theme","styledSystemProps","currentBreakpoint","style","property","scale","properties","transformer","val","fontSize","endsWith","parseFloat","Platform","OS","breakpoints","fontSizes","forEach"],"sources":["getRNKeyAndStyleValue.ts"],"sourcesContent":["import { Platform } from 'react-native';\nimport get from 'lodash.get';\nimport { convertStringNumberToNumber } from './convertStringNumberToNumber';\nimport { resolveValueWithBreakpoint } from '../hooks/useThemeProps/utils';\n\n/**\n * Common Logic Sharing between useSx and useStyledSytem\n */\nexport const getRNKeyAndStyleValue = ({\n  config,\n  value,\n  key,\n  theme,\n  styledSystemProps,\n  currentBreakpoint,\n}: any) => {\n  let style: any = {};\n  if (config === true) {\n    style = {\n      ...style,\n      [key]: convertStringNumberToNumber(key, value),\n    };\n  } else if (config) {\n    //@ts-ignore\n    const { property, scale, properties, transformer } = config;\n    let val = value;\n\n    if (transformer) {\n      val = transformer(val, theme[scale], theme, styledSystemProps.fontSize);\n    } else {\n      // If a token is not found in the theme\n      val = get(theme[scale], value, value);\n    }\n\n    if (typeof val === 'string') {\n      if (val.endsWith('px')) {\n        val = parseFloat(val);\n      } else if (val.endsWith('em') && Platform.OS !== 'web') {\n        const fontSize = resolveValueWithBreakpoint(\n          styledSystemProps.fontSize,\n          theme.breakpoints,\n          currentBreakpoint,\n          key\n        );\n        val =\n          parseFloat(val) *\n          parseFloat(get(theme.fontSizes, fontSize, fontSize));\n      }\n    }\n\n    val = convertStringNumberToNumber(key, val);\n\n    if (properties) {\n      //@ts-ignore\n      properties.forEach((property) => {\n        style = {\n          ...style,\n          [property]: val,\n        };\n      });\n    } else if (property) {\n      style = {\n        ...style,\n        [property]: val,\n      };\n    } else {\n      style = {\n        ...style,\n        ...val,\n      };\n    }\n  }\n\n  return style;\n};\n"]},"metadata":{},"sourceType":"module"}