{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React from'react';import{default as Box}from\"../components/primitives/Box\";import{ResponsiveQueryContext}from\"./useResponsiveQuery/ResponsiveQueryProvider\";function flattenChildren(children){var keys=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var childrenArray=React.Children.toArray(children);return childrenArray.reduce(function(flatChildren,child,index){if(child.type===React.Fragment){return flatChildren.concat(flattenChildren(child.props.children,keys.concat(child.key||index)));}if(React.isValidElement(child)){flatChildren.push(React.cloneElement(child,{key:keys.concat(String(child.key||index)).join('.')}));}else{flatChildren.push(child);}return flatChildren;},[]);}var getSpacedChildren=function getSpacedChildren(children,space,axis,reverse,divider){var childrenArray=React.Children.toArray(flattenChildren(children));childrenArray=reverse==='reverse'?_toConsumableArray(childrenArray).reverse():childrenArray;var orientation=axis==='X'?'vertical':'horizontal';var responsiveQueryContext=React.useContext(ResponsiveQueryContext);var disableCSSMediaQueries=responsiveQueryContext.disableCSSMediaQueries;if(divider){var spacingProp=_objectSpread({},axis==='X'?{mx:space}:{my:space});divider=React.cloneElement(divider,_objectSpread({orientation:orientation},spacingProp));childrenArray=childrenArray.map(function(child,index){var _child$key;return React.createElement(React.Fragment,{key:(_child$key=child.key)!==null&&_child$key!==void 0?_child$key:\"spaced-child-\".concat(index)},child,index<childrenArray.length-1&&divider);});}else{var _spacingProp=_objectSpread({},axis==='X'?{width:space}:{height:space});childrenArray=childrenArray.map(function(child,index){var _child$key2;return React.createElement(React.Fragment,{key:(_child$key2=child.key)!==null&&_child$key2!==void 0?_child$key2:\"spaced-child-\".concat(index)},child,disableCSSMediaQueries?index<childrenArray.length-1&&React.createElement(Box,_spacingProp):React.createElement(React.Fragment,null));});}return childrenArray;};export default getSpacedChildren;","map":{"version":3,"mappings":"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","names":["React","default","Box","ResponsiveQueryContext","flattenChildren","children","keys","childrenArray","Children","toArray","reduce","flatChildren","child","index","type","Fragment","concat","props","key","isValidElement","push","cloneElement","String","join","getSpacedChildren","space","axis","reverse","divider","orientation","responsiveQueryContext","useContext","disableCSSMediaQueries","spacingProp","mx","my","map","length","width","height"],"sources":["getSpacedChildren.tsx"],"sourcesContent":["import React from 'react';\nimport { default as Box } from '../components/primitives/Box';\nimport type { SpaceType as ThemeSpaceType } from '../components/types';\nimport { ResponsiveQueryContext } from './useResponsiveQuery/ResponsiveQueryProvider';\n\ntype SpaceType =\n  | 'gutter'\n  | '2xs'\n  | 'xs'\n  | 'sm'\n  | 'md'\n  | 'lg'\n  | 'xl'\n  | '2xl'\n  | ThemeSpaceType;\n\n// Thanks @gregberge for code and @nandorojo for suggestion.\n// Original source: https://github.com/gregberge/react-flatten-children\ntype ReactChildArray = ReturnType<typeof React.Children.toArray>;\nfunction flattenChildren(\n  children: JSX.Element[] | JSX.Element,\n  keys: (string | number)[] = []\n): ReactChildArray {\n  const childrenArray = React.Children.toArray(children);\n  return childrenArray.reduce(\n    (flatChildren: ReactChildArray, child: any, index: number) => {\n      if ((child as React.ReactElement<any>).type === React.Fragment) {\n        return flatChildren.concat(\n          flattenChildren(\n            (child as React.ReactElement<any>).props.children,\n            keys.concat(child.key || index)\n          )\n        );\n      }\n      if (React.isValidElement(child)) {\n        flatChildren.push(\n          React.cloneElement(child, {\n            key: keys.concat(String(child.key || index)).join('.'),\n          })\n        );\n      } else {\n        flatChildren.push(child);\n      }\n      return flatChildren;\n    },\n    []\n  );\n}\n\nconst getSpacedChildren = (\n  children: JSX.Element[] | JSX.Element,\n  space: undefined | SpaceType,\n  axis: 'X' | 'Y',\n  reverse: string,\n  divider: JSX.Element | undefined\n): any => {\n  let childrenArray = React.Children.toArray(flattenChildren(children));\n  childrenArray =\n    reverse === 'reverse' ? [...childrenArray].reverse() : childrenArray;\n\n  const orientation = axis === 'X' ? 'vertical' : 'horizontal';\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const responsiveQueryContext = React.useContext(ResponsiveQueryContext);\n  const disableCSSMediaQueries = responsiveQueryContext.disableCSSMediaQueries;\n\n  // If there's a divider, we wrap it with a Box and apply vertical and horizontal margins else we add a spacer Box with height or width\n  if (divider) {\n    const spacingProp: object = {\n      ...(axis === 'X' ? { mx: space } : { my: space }),\n    };\n\n    divider = React.cloneElement(divider, {\n      orientation,\n      ...spacingProp,\n    });\n\n    childrenArray = childrenArray.map((child: any, index: number) => {\n      return (\n        <React.Fragment key={child.key ?? `spaced-child-${index}`}>\n          {child}\n          {index < childrenArray.length - 1 && divider}\n        </React.Fragment>\n      );\n    });\n  } else {\n    const spacingProp: object = {\n      ...(axis === 'X' ? { width: space } : { height: space }),\n    };\n    childrenArray = childrenArray.map((child: any, index: number) => {\n      return (\n        <React.Fragment key={child.key ?? `spaced-child-${index}`}>\n          {child}\n          {disableCSSMediaQueries ? (\n            index < childrenArray.length - 1 && <Box {...spacingProp} />\n          ) : (\n            <></>\n          )}\n        </React.Fragment>\n      );\n    });\n  }\n\n  return childrenArray;\n};\n\nexport default getSpacedChildren;\n"]},"metadata":{},"sourceType":"module"}