{"ast":null,"code":"import getBoundingClientRect from\"../../modules/getBoundingClientRect\";var emptyFunction=function emptyFunction(){};var emptyObject={};var emptyArray=[];function normalizeIdentifier(identifier){return identifier>20?identifier%20:identifier;}export default function createResponderEvent(domEvent,responderTouchHistoryStore){var rect;var propagationWasStopped=false;var changedTouches;var touches;var domEventChangedTouches=domEvent.changedTouches;var domEventType=domEvent.type;var metaKey=domEvent.metaKey===true;var shiftKey=domEvent.shiftKey===true;var force=domEventChangedTouches&&domEventChangedTouches[0].force||0;var identifier=normalizeIdentifier(domEventChangedTouches&&domEventChangedTouches[0].identifier||0);var clientX=domEventChangedTouches&&domEventChangedTouches[0].clientX||domEvent.clientX;var clientY=domEventChangedTouches&&domEventChangedTouches[0].clientY||domEvent.clientY;var pageX=domEventChangedTouches&&domEventChangedTouches[0].pageX||domEvent.pageX;var pageY=domEventChangedTouches&&domEventChangedTouches[0].pageY||domEvent.pageY;var preventDefault=typeof domEvent.preventDefault==='function'?domEvent.preventDefault.bind(domEvent):emptyFunction;var timestamp=domEvent.timeStamp;function normalizeTouches(touches){return Array.prototype.slice.call(touches).map(function(touch){return{force:touch.force,identifier:normalizeIdentifier(touch.identifier),get locationX(){return locationX(touch.clientX);},get locationY(){return locationY(touch.clientY);},pageX:touch.pageX,pageY:touch.pageY,target:touch.target,timestamp:timestamp};});}if(domEventChangedTouches!=null){changedTouches=normalizeTouches(domEventChangedTouches);touches=normalizeTouches(domEvent.touches);}else{var emulatedTouches=[{force:force,identifier:identifier,get locationX(){return locationX(clientX);},get locationY(){return locationY(clientY);},pageX:pageX,pageY:pageY,target:domEvent.target,timestamp:timestamp}];changedTouches=emulatedTouches;touches=domEventType==='mouseup'||domEventType==='dragstart'?emptyArray:emulatedTouches;}var responderEvent={bubbles:true,cancelable:true,currentTarget:null,defaultPrevented:domEvent.defaultPrevented,dispatchConfig:emptyObject,eventPhase:domEvent.eventPhase,isDefaultPrevented:function isDefaultPrevented(){return domEvent.defaultPrevented;},isPropagationStopped:function isPropagationStopped(){return propagationWasStopped;},isTrusted:domEvent.isTrusted,nativeEvent:{altKey:false,ctrlKey:false,metaKey:metaKey,shiftKey:shiftKey,changedTouches:changedTouches,force:force,identifier:identifier,get locationX(){return locationX(clientX);},get locationY(){return locationY(clientY);},pageX:pageX,pageY:pageY,target:domEvent.target,timestamp:timestamp,touches:touches,type:domEventType},persist:emptyFunction,preventDefault:preventDefault,stopPropagation:function stopPropagation(){propagationWasStopped=true;},target:domEvent.target,timeStamp:timestamp,touchHistory:responderTouchHistoryStore.touchHistory};function locationX(x){rect=rect||getBoundingClientRect(responderEvent.currentTarget);if(rect){return x-rect.left;}}function locationY(y){rect=rect||getBoundingClientRect(responderEvent.currentTarget);if(rect){return y-rect.top;}}return responderEvent;}","map":{"version":3,"names":["getBoundingClientRect","emptyFunction","emptyObject","emptyArray","normalizeIdentifier","identifier","createResponderEvent","domEvent","responderTouchHistoryStore","rect","propagationWasStopped","changedTouches","touches","domEventChangedTouches","domEventType","type","metaKey","shiftKey","force","clientX","clientY","pageX","pageY","preventDefault","bind","timestamp","timeStamp","normalizeTouches","Array","prototype","slice","call","map","touch","locationX","locationY","target","emulatedTouches","responderEvent","bubbles","cancelable","currentTarget","defaultPrevented","dispatchConfig","eventPhase","isDefaultPrevented","isPropagationStopped","isTrusted","nativeEvent","altKey","ctrlKey","persist","stopPropagation","touchHistory","x","left","y","top"],"sources":["/Users/matthieu/Documents/boatproject/node_modules/react-native-web/dist/modules/useResponderEvents/createResponderEvent.js"],"sourcesContent":["/**\n * Copyright (c) Nicolas Gallagher\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport getBoundingClientRect from '../../modules/getBoundingClientRect';\n\nvar emptyFunction = () => {};\n\nvar emptyObject = {};\nvar emptyArray = [];\n/**\n * Safari produces very large identifiers that would cause the `touchBank` array\n * length to be so large as to crash the browser, if not normalized like this.\n * In the future the `touchBank` should use an object/map instead.\n */\n\nfunction normalizeIdentifier(identifier) {\n  return identifier > 20 ? identifier % 20 : identifier;\n}\n/**\n * Converts a native DOM event to a ResponderEvent.\n * Mouse events are transformed into fake touch events.\n */\n\n\nexport default function createResponderEvent(domEvent, responderTouchHistoryStore) {\n  var rect;\n  var propagationWasStopped = false;\n  var changedTouches;\n  var touches;\n  var domEventChangedTouches = domEvent.changedTouches;\n  var domEventType = domEvent.type;\n  var metaKey = domEvent.metaKey === true;\n  var shiftKey = domEvent.shiftKey === true;\n  var force = domEventChangedTouches && domEventChangedTouches[0].force || 0;\n  var identifier = normalizeIdentifier(domEventChangedTouches && domEventChangedTouches[0].identifier || 0);\n  var clientX = domEventChangedTouches && domEventChangedTouches[0].clientX || domEvent.clientX;\n  var clientY = domEventChangedTouches && domEventChangedTouches[0].clientY || domEvent.clientY;\n  var pageX = domEventChangedTouches && domEventChangedTouches[0].pageX || domEvent.pageX;\n  var pageY = domEventChangedTouches && domEventChangedTouches[0].pageY || domEvent.pageY;\n  var preventDefault = typeof domEvent.preventDefault === 'function' ? domEvent.preventDefault.bind(domEvent) : emptyFunction;\n  var timestamp = domEvent.timeStamp;\n\n  function normalizeTouches(touches) {\n    return Array.prototype.slice.call(touches).map(touch => {\n      return {\n        force: touch.force,\n        identifier: normalizeIdentifier(touch.identifier),\n\n        get locationX() {\n          return locationX(touch.clientX);\n        },\n\n        get locationY() {\n          return locationY(touch.clientY);\n        },\n\n        pageX: touch.pageX,\n        pageY: touch.pageY,\n        target: touch.target,\n        timestamp\n      };\n    });\n  }\n\n  if (domEventChangedTouches != null) {\n    changedTouches = normalizeTouches(domEventChangedTouches);\n    touches = normalizeTouches(domEvent.touches);\n  } else {\n    var emulatedTouches = [{\n      force,\n      identifier,\n\n      get locationX() {\n        return locationX(clientX);\n      },\n\n      get locationY() {\n        return locationY(clientY);\n      },\n\n      pageX,\n      pageY,\n      target: domEvent.target,\n      timestamp\n    }];\n    changedTouches = emulatedTouches;\n    touches = domEventType === 'mouseup' || domEventType === 'dragstart' ? emptyArray : emulatedTouches;\n  }\n\n  var responderEvent = {\n    bubbles: true,\n    cancelable: true,\n    // `currentTarget` is set before dispatch\n    currentTarget: null,\n    defaultPrevented: domEvent.defaultPrevented,\n    dispatchConfig: emptyObject,\n    eventPhase: domEvent.eventPhase,\n\n    isDefaultPrevented() {\n      return domEvent.defaultPrevented;\n    },\n\n    isPropagationStopped() {\n      return propagationWasStopped;\n    },\n\n    isTrusted: domEvent.isTrusted,\n    nativeEvent: {\n      altKey: false,\n      ctrlKey: false,\n      metaKey,\n      shiftKey,\n      changedTouches,\n      force,\n      identifier,\n\n      get locationX() {\n        return locationX(clientX);\n      },\n\n      get locationY() {\n        return locationY(clientY);\n      },\n\n      pageX,\n      pageY,\n      target: domEvent.target,\n      timestamp,\n      touches,\n      type: domEventType\n    },\n    persist: emptyFunction,\n    preventDefault,\n\n    stopPropagation() {\n      propagationWasStopped = true;\n    },\n\n    target: domEvent.target,\n    timeStamp: timestamp,\n    touchHistory: responderTouchHistoryStore.touchHistory\n  }; // Using getters and functions serves two purposes:\n  // 1) The value of `currentTarget` is not initially available.\n  // 2) Measuring the clientRect may cause layout jank and should only be done on-demand.\n\n  function locationX(x) {\n    rect = rect || getBoundingClientRect(responderEvent.currentTarget);\n\n    if (rect) {\n      return x - rect.left;\n    }\n  }\n\n  function locationY(y) {\n    rect = rect || getBoundingClientRect(responderEvent.currentTarget);\n\n    if (rect) {\n      return y - rect.top;\n    }\n  }\n\n  return responderEvent;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}