{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(require(\"react\"));var _DocumentMetadataProvider=_interopRequireDefault(require(\"./context/DocumentMetadataProvider\"));var _TNodeRenderer=_interopRequireDefault(require(\"./TNodeRenderer\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var TDocumentRenderer=(0,_react.memo)(function(_ref){var tdoc=_ref.tdoc,baseUrl=_ref.baseUrl,onDocumentMetadataLoaded=_ref.onDocumentMetadataLoaded;var metadata=(0,_react.useMemo)(function(){var _tdoc$context=tdoc.context,baseHref=_tdoc$context.baseHref,baseTarget=_tdoc$context.baseTarget,lang=_tdoc$context.lang,links=_tdoc$context.links,meta=_tdoc$context.meta,title=_tdoc$context.title,dir=_tdoc$context.dir;return{baseTarget:baseTarget,baseUrl:baseUrl!==null&&baseUrl!==void 0?baseUrl:baseHref,lang:lang,dir:dir,links:links,meta:meta,title:title};},[tdoc.context,baseUrl]);(0,_react.useEffect)(function(){onDocumentMetadataLoaded===null||onDocumentMetadataLoaded===void 0?void 0:onDocumentMetadataLoaded.call(null,metadata);},[onDocumentMetadataLoaded,metadata]);return _react.default.createElement(_DocumentMetadataProvider.default,{value:metadata},_react.default.createElement(_TNodeRenderer.default,{renderIndex:0,renderLength:1,tnode:tdoc}));});var _default=TDocumentRenderer;exports.default=_default;","map":{"version":3,"mappings":"6FAAA,qDAGA,oGACA,mpCAEA,GAAMA,kBAAiB,CAAG,gBACxB,cAQM,IAPJC,KAOI,MAPJA,IAOI,CANJC,OAMI,MANJA,OAMI,CALJC,wBAKI,MALJA,wBAKI,CACJ,GAAMC,SAA0B,CAAG,mBAAQ,UAAM,CAC/C,kBACEH,IAAI,CAACI,OADP,CAAQC,QAAR,eAAQA,QAAR,CAAkBC,UAAlB,eAAkBA,UAAlB,CAA8BC,IAA9B,eAA8BA,IAA9B,CAAoCC,KAApC,eAAoCA,KAApC,CAA2CC,IAA3C,eAA2CA,IAA3C,CAAiDC,KAAjD,eAAiDA,KAAjD,CAAwDC,GAAxD,eAAwDA,GAAxD,CAEA,MAAO,CACLL,UADK,CACLA,UADK,CAELL,OAAO,CAAEA,OAAF,OAAEA,SAAF,SAAEA,SAAWI,QAFf,CAGLE,IAHK,CAGLA,IAHK,CAILI,GAJK,CAILA,GAJK,CAKLH,KALK,CAKLA,KALK,CAMLC,IANK,CAMLA,IANK,CAOLC,WAPK,CAAP,CAHiC,EAYhC,CAACV,IAAI,CAACI,OAAN,CAAeH,OAAf,CAZgC,CAAnC,CAaA,qBAAU,UAAM,CACdC,wBAAwB,OAAxBA,0BAAwB,SAAxBA,gCAAwB,CAAEU,IAA1BV,CAA+B,IAA/BA,CAAqCC,QAArCD,EADF,EAEG,CAACA,wBAAD,CAA2BC,QAA3B,CAFH,EAGA,MACEU,8BAACC,iCAAD,EAA0BC,KAAK,CAAEZ,QAAjC,EACEU,6BAACG,sBAAD,EAAeC,WAAW,CAAE,CAA5B,CAA+BC,YAAY,CAAE,CAA7C,CAAgDC,KAAK,CAAEnB,IAAvD,EADF,CADF,CA1BsB,EAA1B,cAiCeD","names":["TDocumentRenderer","tdoc","baseUrl","onDocumentMetadataLoaded","metadata","context","baseHref","baseTarget","lang","links","meta","title","dir","call","_react","_DocumentMetadataProvider","value","_TNodeRenderer","renderIndex","renderLength","tnode"],"sources":["TDocumentRenderer.tsx"],"sourcesContent":["import React, { memo, useEffect, useMemo } from 'react';\nimport { TDocument } from '@native-html/transient-render-engine';\nimport { DocumentMetadata, RenderHTMLSourceProps } from './shared-types';\nimport DocumentMetadataProvider from './context/DocumentMetadataProvider';\nimport TNodeRenderer from './TNodeRenderer';\n\nconst TDocumentRenderer = memo(\n  ({\n    tdoc,\n    baseUrl,\n    onDocumentMetadataLoaded\n  }: {\n    baseUrl?: string;\n    onDocumentMetadataLoaded?: RenderHTMLSourceProps['onDocumentMetadataLoaded'];\n    tdoc: TDocument;\n  }) => {\n    const metadata: DocumentMetadata = useMemo(() => {\n      const { baseHref, baseTarget, lang, links, meta, title, dir } =\n        tdoc.context;\n      return {\n        baseTarget,\n        baseUrl: baseUrl ?? baseHref,\n        lang,\n        dir,\n        links,\n        meta,\n        title\n      };\n    }, [tdoc.context, baseUrl]);\n    useEffect(() => {\n      onDocumentMetadataLoaded?.call(null, metadata);\n    }, [onDocumentMetadataLoaded, metadata]);\n    return (\n      <DocumentMetadataProvider value={metadata}>\n        <TNodeRenderer renderIndex={0} renderLength={1} tnode={tdoc} />\n      </DocumentMetadataProvider>\n    );\n  }\n);\nexport default TDocumentRenderer;\n"]},"metadata":{},"sourceType":"script"}