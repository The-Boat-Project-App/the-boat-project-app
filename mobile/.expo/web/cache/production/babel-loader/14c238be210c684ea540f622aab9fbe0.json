{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"style\",\"debug\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import{getStyleAndFilteredProps}from\"../theme/styled-system\";import{useTheme}from\"./useTheme\";import React from'react';import{useNativeBaseConfig}from\"../core/NativeBaseContext\";import{useResponsiveQuery}from\"../utils/useResponsiveQuery\";import{getStyledSystemPropsAndRestProps}from\"../utils/getStyledSystemPropsAndRestProps\";import stableHash from'stable-hash';export var useStyledSystemPropsResolver=function useStyledSystemPropsResolver(_ref){var propStyle=_ref.style,debug=_ref.debug,props=_objectWithoutProperties(_ref,_excluded);var theme=useTheme();var _useNativeBaseConfig=useNativeBaseConfig('makeStyledComponent'),currentBreakpoint=_useNativeBaseConfig.currentBreakpoint,config=_useNativeBaseConfig.config;var strictMode=config.strictMode;var _useResponsiveQuery=useResponsiveQuery(),getResponsiveStyles=_useResponsiveQuery.getResponsiveStyles;var _getStyledSystemProps=getStyledSystemPropsAndRestProps(props),styledSystemProps=_getStyledSystemProps.styledSystemProps,restProps=_getStyledSystemProps.restProps;var _React$useMemo=React.useMemo(function(){var _getStyleAndFilteredP=getStyleAndFilteredProps({styledSystemProps:styledSystemProps,theme:theme,debug:debug,currentBreakpoint:currentBreakpoint,strictMode:strictMode,getResponsiveStyles:getResponsiveStyles}),styleSheet=_getStyleAndFilteredP.styleSheet,dataSet=_getStyleAndFilteredP.dataSet,styleFromProps=_getStyleAndFilteredP.styleFromProps;if(propStyle){return{style:[styleSheet.box,propStyle],dataSet:dataSet,styleFromProps:styleFromProps};}else{return{style:styleSheet.box,dataSet:dataSet,styleFromProps:styleFromProps};}},[stableHash(styledSystemProps),theme,debug,currentBreakpoint,strictMode,propStyle,getResponsiveStyles,props]),style=_React$useMemo.style,dataSet=_React$useMemo.dataSet,styleFromProps=_React$useMemo.styleFromProps;if(\"production\"==='development'&&debug){console.log('style,resprops',currentBreakpoint);}restProps.dataSet=_objectSpread(_objectSpread({},restProps.dataSet),dataSet);return[style,restProps,styleFromProps];};","map":{"version":3,"mappings":"67BAAA,OAASA,wBAAT,8BACA,OAASC,QAAT,kBACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,mBAAT,iCACA,OAASC,kBAAT,mCACA,OAASC,gCAAT,iDAEA,MAAOC,WAAP,KAAuB,aAAvB,CAEA,MAAO,IAAMC,6BAA4B,CAAG,QAA/BA,6BAA+B,MAIjC,IAHFC,UAGE,MAHTC,KAGS,CAFTC,KAES,MAFTA,KAES,CADNC,KACM,0CACT,GAAMC,MAAK,CAAGX,QAAQ,EAAtB,CACA,yBAAsCE,mBAAmB,CACvD,qBADuD,CAAzD,CAAQU,iBAAR,sBAAQA,iBAAR,CAA2BC,MAA3B,sBAA2BA,MAA3B,CAGA,GAAMC,WAAU,CAAGD,MAAM,CAACC,UAA1B,CAEA,wBAAgCX,kBAAkB,EAAlD,CAAQY,mBAAR,qBAAQA,mBAAR,CAEA,0BAAyCX,gCAAgC,CACvEM,KADuE,CAAzE,CAAQM,iBAAR,uBAAQA,iBAAR,CAA2BC,SAA3B,uBAA2BA,SAA3B,CAIA,mBAA2ChB,KAAK,CAACiB,OAANjB,CAAc,UAAM,CAC7D,0BAAgDF,wBAAwB,CAAC,CACvEiB,iBADuE,CACvEA,iBADuE,CAEvEL,KAFuE,CAEvEA,KAFuE,CAGvEF,KAHuE,CAGvEA,KAHuE,CAIvEG,iBAJuE,CAIvEA,iBAJuE,CAKvEE,UALuE,CAKvEA,UALuE,CAMvEC,uCANuE,CAAD,CAAxE,CAAQI,UAAR,uBAAQA,UAAR,CAAoBC,OAApB,uBAAoBA,OAApB,CAA6BC,cAA7B,uBAA6BA,cAA7B,CAQA,GAAId,SAAJ,CAAe,CACb,MAAO,CAAEC,KAAK,CAAE,CAACW,UAAU,CAACG,GAAZ,CAAiBf,SAAjB,CAAT,CAAsCa,OAAtC,CAAsCA,OAAtC,CAA+CC,6BAA/C,CAAP,CADF,KAEO,CACL,MAAO,CAAEb,KAAK,CAAEW,UAAU,CAACG,GAApB,CAAyBF,OAAzB,CAAyBA,OAAzB,CAAkCC,6BAAlC,CAAP,CAZ2D,CAApB,EAexC,CAEDhB,UAAU,CAACW,iBAAD,CAFT,CAGDL,KAHC,CAIDF,KAJC,CAKDG,iBALC,CAMDE,UANC,CAODP,SAPC,CAQDQ,mBARC,CASDL,KATC,CAfwCT,CAA3C,CAAQO,KAAR,gBAAQA,KAAR,CAAeY,OAAf,gBAAeA,OAAf,CAAwBC,cAAxB,gBAAwBA,cAAxB,CA0BA,GAAIE,eAAyB,aAAzBA,EAA0Cd,KAA9C,CAAqD,CAEnDe,OAAO,CAACC,GAARD,CAAY,gBAAZA,CAA8BZ,iBAA9BY,EACD,CAEDP,SAAS,CAACG,OAAVH,gCAAyBA,SAAS,CAACG,OAAnCH,EAA+CG,OAA/CH,EAEA,MAAO,CAACT,KAAD,CAAQS,SAAR,CAAmBI,cAAnB,CAAP,CAlDK","names":["getStyleAndFilteredProps","useTheme","React","useNativeBaseConfig","useResponsiveQuery","getStyledSystemPropsAndRestProps","stableHash","useStyledSystemPropsResolver","propStyle","style","debug","props","theme","currentBreakpoint","config","strictMode","getResponsiveStyles","styledSystemProps","restProps","useMemo","styleSheet","dataSet","styleFromProps","box","process","console","log"],"sources":["useStyledSystemPropsResolver.ts"],"sourcesContent":["import { getStyleAndFilteredProps } from '../theme/styled-system';\nimport { useTheme } from './useTheme';\nimport React from 'react';\nimport { useNativeBaseConfig } from '../core/NativeBaseContext';\nimport { useResponsiveQuery } from '../utils/useResponsiveQuery';\nimport { getStyledSystemPropsAndRestProps } from '../utils/getStyledSystemPropsAndRestProps';\n//@ts-ignore\nimport stableHash from 'stable-hash';\n\nexport const useStyledSystemPropsResolver = ({\n  style: propStyle,\n  debug,\n  ...props\n}: any) => {\n  const theme = useTheme();\n  const { currentBreakpoint, config } = useNativeBaseConfig(\n    'makeStyledComponent'\n  );\n  const strictMode = config.strictMode;\n\n  const { getResponsiveStyles } = useResponsiveQuery();\n\n  const { styledSystemProps, restProps } = getStyledSystemPropsAndRestProps(\n    props\n  );\n\n  const { style, dataSet, styleFromProps } = React.useMemo(() => {\n    const { styleSheet, dataSet, styleFromProps } = getStyleAndFilteredProps({\n      styledSystemProps,\n      theme,\n      debug,\n      currentBreakpoint,\n      strictMode,\n      getResponsiveStyles,\n    });\n    if (propStyle) {\n      return { style: [styleSheet.box, propStyle], dataSet, styleFromProps };\n    } else {\n      return { style: styleSheet.box, dataSet, styleFromProps };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    stableHash(styledSystemProps),\n    theme,\n    debug,\n    currentBreakpoint,\n    strictMode,\n    propStyle,\n    getResponsiveStyles,\n    props,\n  ]);\n  if (process.env.NODE_ENV === 'development' && debug) {\n    /* eslint-disable-next-line */\n    console.log('style,resprops', currentBreakpoint);\n  }\n\n  restProps.dataSet = { ...restProps.dataSet, ...dataSet };\n\n  return [style, restProps, styleFromProps];\n};\n"]},"metadata":{},"sourceType":"module"}