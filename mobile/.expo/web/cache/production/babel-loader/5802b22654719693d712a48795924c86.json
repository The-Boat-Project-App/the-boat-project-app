{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";var _excluded=[\"children\"],_excluded2=[\"max\",\"_avatar\",\"_hiddenAvatarPlaceholder\",\"isVertical\",\"space\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React,{memo,forwardRef}from'react';import Box from\"../../primitives/Box\";import{usePropsResolution}from\"../../../hooks/useThemeProps\";import isNil from'lodash.isnil';import{default as Avatar}from\"./Avatar\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";var getAvatarGroupChildren=function getAvatarGroupChildren(children,space,max,_hiddenAvatarPlaceholder,_avatar,isVertical){var childrenArray=React.Children.toArray(children);var plusAvatars=0;if(!isNil(max)&&max<childrenArray.length&&max>0){plusAvatars=childrenArray.length-max;childrenArray=childrenArray.slice(0,max);}var trailingChildren=childrenArray.slice(1);var spacingProps={ml:isVertical?0:space,mt:isVertical?space:0};return[plusAvatars>0?React.createElement(Avatar,_extends({key:\"avatar-group-wrapper\"},spacingProps,_avatar,_hiddenAvatarPlaceholder),'+ '+plusAvatars):null,React.Children.map(trailingChildren.reverse(),function(child,index){return React.cloneElement(child,_objectSpread(_objectSpread(_objectSpread({key:\"avatar-group-child-\".concat(index)},_avatar),spacingProps),child.props),child.props.children);}),React.cloneElement(childrenArray[0],_objectSpread(_objectSpread({},_avatar),childrenArray[0].props),childrenArray[0].props.children)];};var AvatarGroup=function AvatarGroup(_ref,ref){var children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);var _usePropsResolution=usePropsResolution('AvatarGroup',props),max=_usePropsResolution.max,_avatar=_usePropsResolution._avatar,_hiddenAvatarPlaceholder=_usePropsResolution._hiddenAvatarPlaceholder,isVertical=_usePropsResolution.isVertical,space=_usePropsResolution.space,resolvedProps=_objectWithoutProperties(_usePropsResolution,_excluded2);if(useHasResponsiveProps(props)){return null;}return React.createElement(Box,_extends({},resolvedProps,{ref:ref}),getAvatarGroupChildren(children,space,max,_hiddenAvatarPlaceholder,_avatar,isVertical));};export default memo(forwardRef(AvatarGroup));","map":{"version":3,"mappings":"4xCAAA,MAAOA,MAAP,EAAgBC,IAAhB,CAAsBC,UAAtB,KAAwC,OAAxC,CACA,MAAOC,IAAP,4BACA,OAASC,kBAAT,oCACA,MAAOC,MAAP,KAAkB,cAAlB,CAEA,OAASC,OAAO,GAAIC,OAApB,gBACA,OAASC,qBAAT,4CAIA,GAAMC,uBAAsB,CAAG,QAAzBA,uBAAyB,CAC7BC,QAD6B,CAE7BC,KAF6B,CAG7BC,GAH6B,CAI7BC,wBAJ6B,CAK7BC,OAL6B,CAM7BC,UAN6B,CAO1B,CACH,GAAIC,cAAkB,CAAGhB,KAAK,CAACiB,QAANjB,CAAekB,OAAflB,CAAuBU,QAAvBV,CAAzB,CACA,GAAImB,YAAmB,CAAG,CAA1B,CACA,GAAI,CAACd,KAAK,CAACO,GAAD,CAAN,EAAeA,GAAG,CAAGI,aAAa,CAACI,MAAnC,EAA6CR,GAAG,CAAG,CAAvD,CAA0D,CACxDO,WAAW,CAAGH,aAAa,CAACI,MAAdJ,CAAuBJ,GAArCO,CACAH,aAAa,CAAGA,aAAa,CAACK,KAAdL,CAAoB,CAApBA,CAAuBJ,GAAvBI,CAAhBA,CACD,CACD,GAAMM,iBAAgB,CAAGN,aAAa,CAACK,KAAdL,CAAoB,CAApBA,CAAzB,CACA,GAAMO,aAAY,CAAG,CACnBC,EAAE,CAAET,UAAU,CAAG,CAAH,CAAOJ,KADF,CAEnBc,EAAE,CAAEV,UAAU,CAAGJ,KAAH,CAAW,CAFN,CAArB,CAIA,MAAO,CACLQ,WAAW,CAAG,CAAdA,CACEnB,oBAACO,MAAD,WACEmB,GAAG,CAAC,sBADN,EAEMH,YAFN,CAGMT,OAHN,CAIMD,wBAJN,EAMG,KAAOM,WANV,CADFA,CASI,IAVC,CAWLnB,KAAK,CAACiB,QAANjB,CAAe2B,GAAf3B,CACEsB,gBAAgB,CAACM,OAAjBN,EADFtB,CAEE,SAAC6B,KAAD,CAAaC,KAAb,CAA+B,CAC7B,MAAO9B,MAAK,CAAC+B,YAAN/B,CACL6B,KADK7B,4CAGH0B,GAAG,8BAAwBI,KAAxB,CAHA9B,EAIAc,OAJAd,EAKAuB,YALAvB,EAMA6B,KAAK,CAACG,KANNhC,EAQL6B,KAAK,CAACG,KAANH,CAAYnB,QARPV,CAAP,CAHJ,EAXK,CA0BLA,KAAK,CAAC+B,YAAN/B,CACEgB,aAAa,CAAC,CAAD,CADfhB,gCAGOc,OAHPd,EAIOgB,aAAa,CAAC,CAAD,CAAbA,CAAiBgB,KAJxBhC,EAMEgB,aAAa,CAAC,CAAD,CAAbA,CAAiBgB,KAAjBhB,CAAuBN,QANzBV,CA1BK,CAAP,CAnBF,EAwDA,GAAMiC,YAAW,CAAG,QAAdA,YAAc,MAA4CC,GAA5C,CAAyD,IAAtDxB,SAAsD,MAAtDA,QAAsD,CAAzCsB,KAAyC,0CAC3E,wBAOI5B,kBAAkB,CAAC,aAAD,CAAgB4B,KAAhB,CAPtB,CACEpB,GADF,qBACEA,GADF,CAEEE,OAFF,qBAEEA,OAFF,CAGED,wBAHF,qBAGEA,wBAHF,CAIEE,UAJF,qBAIEA,UAJF,CAKEJ,KALF,qBAKEA,KALF,CAMKwB,aANL,0DAUA,GAAI3B,qBAAqB,CAACwB,KAAD,CAAzB,CAAkC,CAChC,MAAO,KAAP,CACD,CACD,MACEhC,qBAACG,GAAD,aAASgC,aAAT,EAAwBD,GAAG,CAAEA,GAA7B,GACGzB,sBAAsB,CACrBC,QADqB,CAErBC,KAFqB,CAGrBC,GAHqB,CAIrBC,wBAJqB,CAKrBC,OALqB,CAMrBC,UANqB,CADzB,CADF,CAdF,EA4BA,cAAed,KAAI,CAACC,UAAU,CAAC+B,WAAD,CAAX,CAAnB","names":["React","memo","forwardRef","Box","usePropsResolution","isNil","default","Avatar","useHasResponsiveProps","getAvatarGroupChildren","children","space","max","_hiddenAvatarPlaceholder","_avatar","isVertical","childrenArray","Children","toArray","plusAvatars","length","slice","trailingChildren","spacingProps","ml","mt","key","map","reverse","child","index","cloneElement","props","AvatarGroup","ref","resolvedProps"],"sources":["Group.tsx"],"sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport Box from '../../primitives/Box';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport isNil from 'lodash.isnil';\nimport type { IAvatarGroupProps } from './types';\nimport { default as Avatar } from './Avatar';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\n// Todo: Try using HStack instead\n\nconst getAvatarGroupChildren = (\n  children?: JSX.Element[] | JSX.Element,\n  space?: number,\n  max?: number,\n  _hiddenAvatarPlaceholder?: Object,\n  _avatar?: any,\n  isVertical?: Boolean\n) => {\n  let childrenArray: any = React.Children.toArray(children);\n  let plusAvatars: number = 0;\n  if (!isNil(max) && max < childrenArray.length && max > 0) {\n    plusAvatars = childrenArray.length - max;\n    childrenArray = childrenArray.slice(0, max);\n  }\n  const trailingChildren = childrenArray.slice(1);\n  const spacingProps = {\n    ml: isVertical ? 0 : space,\n    mt: isVertical ? space : 0,\n  };\n  return [\n    plusAvatars > 0 ? (\n      <Avatar\n        key=\"avatar-group-wrapper\"\n        {...spacingProps}\n        {..._avatar}\n        {..._hiddenAvatarPlaceholder}\n      >\n        {'+ ' + plusAvatars}\n      </Avatar>\n    ) : null,\n    React.Children.map(\n      trailingChildren.reverse(),\n      (child: any, index: number) => {\n        return React.cloneElement(\n          child,\n          {\n            key: `avatar-group-child-${index}`,\n            ..._avatar,\n            ...spacingProps,\n            ...child.props,\n          },\n          child.props.children\n        );\n      }\n    ),\n    React.cloneElement(\n      childrenArray[0],\n      {\n        ..._avatar,\n        ...childrenArray[0].props,\n      },\n      childrenArray[0].props.children\n    ),\n  ];\n};\n\nconst AvatarGroup = ({ children, ...props }: IAvatarGroupProps, ref: any) => {\n  const {\n    max,\n    _avatar,\n    _hiddenAvatarPlaceholder,\n    isVertical,\n    space,\n    ...resolvedProps\n  } = usePropsResolution('AvatarGroup', props);\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  return (\n    <Box {...resolvedProps} ref={ref}>\n      {getAvatarGroupChildren(\n        children,\n        space,\n        max,\n        _hiddenAvatarPlaceholder,\n        _avatar,\n        isVertical\n      )}\n    </Box>\n  );\n};\n\nexport default memo(forwardRef(AvatarGroup));\n"]},"metadata":{},"sourceType":"module"}