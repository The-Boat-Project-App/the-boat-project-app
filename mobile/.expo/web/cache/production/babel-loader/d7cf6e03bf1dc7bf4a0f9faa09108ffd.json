{"ast":null,"code":"\"use strict\";var _defineProperty=require(\"@babel/runtime/helpers/defineProperty\");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=useAssembledCommonProps;var _mergeCollapsedMargins=_interopRequireDefault(require(\"../helpers/mergeCollapsedMargins\"));var _RenderRegistryProvider=require(\"../context/RenderRegistryProvider\");var _SharedPropsProvider=require(\"../context/SharedPropsProvider\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function useAssembledCommonProps(_ref,TDefault){var tnode=_ref.tnode,propsFromParent=_ref.propsFromParent,sharedProps=_ref.sharedProps,renderIndex=_ref.renderIndex,renderLength=_ref.renderLength,TNodeChildrenRenderer=_ref.TNodeChildrenRenderer;var _ref2=(0,_RenderRegistryProvider.useRendererConfig)(tnode),Default=_ref2.Default,Custom=_ref2.Custom;var containerProps=(0,_SharedPropsProvider.useDefaultContainerProps)();var assembledProps=_objectSpread({tnode:tnode,propsFromParent:propsFromParent,sharedProps:sharedProps,TDefaultRenderer:TDefault,TNodeChildrenRenderer:TNodeChildrenRenderer,style:(0,_mergeCollapsedMargins.default)(propsFromParent===null||propsFromParent===void 0?void 0:propsFromParent.collapsedMarginTop,tnode.getNativeStyles()),type:tnode.type==='text'||tnode.type==='phrasing'?'text':'block',propsForChildren:tnode.tagName?{}:propsFromParent,InternalRenderer:Default||TDefault,renderIndex:renderIndex,renderLength:renderLength},containerProps);return{assembledProps:assembledProps,Renderer:Custom||Default||null};}","map":{"version":3,"mappings":"w7BAUA,+FACA,yEACA,sJAKe,QAASA,wBAAT,MASbC,QATa,CAeb,IAbEC,MAaF,MAbEA,KAaF,CAZEC,eAYF,MAZEA,eAYF,CAXEC,WAWF,MAXEA,WAWF,CAVEC,WAUF,MAVEA,WAUF,CATEC,YASF,MATEA,YASF,CAREC,qBAQF,MAREA,qBAQF,CACA,UAA4B,8CAAkBL,KAAlB,CAA5B,CAAQM,OAAR,OAAQA,OAAR,CAAiBC,MAAjB,OAAiBA,MAAjB,CACA,GAAMC,eAAc,CAAG,mDAAvB,CACA,GAAMC,eAAiE,gBACrET,KADwE,CACxEA,KADqE,CAErEC,eAFwE,CAExEA,eAFqE,CAGrEC,WAHwE,CAGxEA,WAHqE,CAIrEQ,gBAAgB,CAAEX,QAJmD,CAKrEM,qBALwE,CAKxEA,qBALqE,CAMrEM,KAAK,CAAE,mCACLV,eADK,OACLA,iBADK,SACLA,CADK,MACLA,gBAAe,CAAEW,kBADZ,CAELZ,KAAK,CAACa,eAANb,EAFK,CAN8D,CAUrEc,IAAI,CAAEd,KAAK,CAACc,IAANd,GAAe,MAAfA,EAAyBA,KAAK,CAACc,IAANd,GAAe,UAAxCA,CAAqD,MAArDA,CAA8D,OAVC,CAWrEe,gBAAgB,CAAEf,KAAK,CAACgB,OAANhB,CAAgB,EAAhBA,CAAqBC,eAX8B,CAYrEgB,gBAAgB,CAAEX,OAAO,EAAKP,QAZuC,CAarEI,WAbwE,CAaxEA,WAbqE,CAcrEC,YAdwE,CAcxEA,YAdqE,EAelEI,cAfkE,CAAvE,CAiBA,MAAO,CACLC,cADK,CACLA,cADK,CAELS,QAAQ,CAAEX,MAAM,EAAID,OAAVC,EAAqB,IAF1B,CAAP,CAID","names":["useAssembledCommonProps","TDefault","tnode","propsFromParent","sharedProps","renderIndex","renderLength","TNodeChildrenRenderer","Default","Custom","containerProps","assembledProps","TDefaultRenderer","style","collapsedMarginTop","getNativeStyles","type","propsForChildren","tagName","InternalRenderer","Renderer"],"sources":["useAssembledCommonProps.ts"],"sourcesContent":["import { TNode } from '@native-html/transient-render-engine';\nimport {\n  CustomRenderer,\n  CustomRendererProps,\n  InternalRenderer,\n  InternalRendererProps,\n  TDefaultRenderer,\n  TDefaultRendererProps\n} from '../shared-types';\nimport { TNodeSubRendererProps } from '../internal-types';\nimport mergeCollapsedMargins from '../helpers/mergeCollapsedMargins';\nimport { useRendererConfig } from '../context/RenderRegistryProvider';\nimport { useDefaultContainerProps } from '../context/SharedPropsProvider';\n\n/**\n * @internal\n */\nexport default function useAssembledCommonProps<T extends TNode>(\n  {\n    tnode,\n    propsFromParent,\n    sharedProps,\n    renderIndex,\n    renderLength,\n    TNodeChildrenRenderer\n  }: TNodeSubRendererProps<T>,\n  TDefault: TDefaultRenderer<T> | null\n): {\n  Renderer: CustomRenderer<T> | InternalRenderer<T> | null;\n  assembledProps: CustomRendererProps<T> &\n    TDefaultRendererProps<T> &\n    InternalRendererProps<T>;\n} {\n  const { Default, Custom } = useRendererConfig(tnode);\n  const containerProps = useDefaultContainerProps();\n  const assembledProps: CustomRendererProps<T> & TDefaultRendererProps<T> = {\n    tnode,\n    propsFromParent,\n    sharedProps,\n    TDefaultRenderer: TDefault as TDefaultRenderer<T>,\n    TNodeChildrenRenderer,\n    style: mergeCollapsedMargins(\n      propsFromParent?.collapsedMarginTop,\n      tnode.getNativeStyles()\n    ) as any,\n    type: tnode.type === 'text' || tnode.type === 'phrasing' ? 'text' : 'block',\n    propsForChildren: tnode.tagName ? {} : propsFromParent,\n    InternalRenderer: Default || (TDefault as any),\n    renderIndex,\n    renderLength,\n    ...containerProps\n  };\n  return {\n    assembledProps,\n    Renderer: Custom || Default || null\n  };\n}\n"]},"metadata":{},"sourceType":"script"}