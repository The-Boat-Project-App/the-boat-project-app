{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _objectDestructuringEmpty from\"@babel/runtime/helpers/objectDestructuringEmpty\";import{NativeWindStyleSheet as _NativeWindStyleSheet}from\"nativewind\";import{StyledComponent as _StyledComponent}from\"nativewind\";import{useState}from'react';import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import{useNavigation}from'@react-navigation/native';import CustomButton from\"../../components/CustomButton/CustomButton\";import{useRegisterMutation}from\"../../graphql/graphql\";import{setAccessToken}from\"../../accessToken\";import{accessTokenVar}from\"../../variables/accessToken\";import{userDataVar}from\"../../variables/userData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUpScreen=function SignUpScreen(_ref){_objectDestructuringEmpty(_ref);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),verifiedPassword=_useState6[0],setVerifiedPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),firstName=_useState8[0],setFirstName=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),lastName=_useState10[0],setLastName=_useState10[1];var _useRegisterMutation=useRegisterMutation(),_useRegisterMutation2=_slicedToArray(_useRegisterMutation,1),register=_useRegisterMutation2[0];var navigation=useNavigation();var goHome=function goHome(){return navigation.navigate('BottomTabs');};var goDev=function goDev(){return navigation.navigate('Dev');};var signUp=function(){var _ref2=_asyncToGenerator(function*(){var response=yield register({variables:{newUsersInput:{email:email,password:password,firstName:firstName,lastName:lastName}}});if(response&&response.data){console.log('REPONSE',response);setAccessToken(response.data.createUsers.accessToken,response.data.createUsers.refreshToken);accessTokenVar(response.data.createUsers.accessToken);userDataVar({firstName:response.data.createUsers.firstName,lastName:response.data.createUsers.lastName,avatar:response.data.createUsers.avatar});navigation.navigate('BottomTabs');}});return function signUp(){return _ref2.apply(this,arguments);};}();return _jsxs(_StyledComponent,{className:\"flex-1 items-center justify-center bg-blue-100\",component:View,children:[_jsx(CustomButton,{buttonTitle:\"Go Home\",onPress:goHome}),_jsx(CustomButton,{buttonTitle:\"Dev\",onPress:goDev}),_jsxs(_StyledComponent,{className:\"mt-10 \",component:View,children:[_jsx(_StyledComponent,{className:\"bg-red-300\",onChangeText:function onChangeText(val){return setEmail(val);},value:email,placeholder:\"Adresse Email\",component:TextInput}),_jsx(_StyledComponent,{className:\"bg-red-300\",onChangeText:function onChangeText(val){return setPassword(val);},value:password,secureTextEntry:true,placeholder:\"Mot de passe\",component:TextInput}),_jsx(_StyledComponent,{className:\"bg-red-300\",onChangeText:function onChangeText(val){return setVerifiedPassword(val);},value:verifiedPassword,secureTextEntry:true,placeholder:\"Mot de passe\",component:TextInput}),_jsx(_StyledComponent,{className:\"bg-red-300\",onChangeText:function onChangeText(val){return setFirstName(val);},value:firstName,placeholder:\"First Name\",component:TextInput}),_jsx(_StyledComponent,{className:\"bg-red-300\",onChangeText:function onChangeText(val){return setLastName(val);},value:lastName,placeholder:\"Last Name\",component:TextInput}),_jsx(CustomButton,{buttonTitle:\"Sign-up\",onPress:signUp}),_jsx(CustomButton,{buttonTitle:\"Sign-in\",onPress:function onPress(){return navigation.navigate('SignIn');}})]})]});};export default SignUpScreen;_NativeWindStyleSheet.create({styles:{\"mt-10\":{\"marginTop\":40},\"flex-1\":{\"flexGrow\":1,\"flexShrink\":1},\"items-center\":{\"alignItems\":\"center\"},\"justify-center\":{\"justifyContent\":\"center\"}}});","map":{"version":3,"names":["useState","useNavigation","CustomButton","useRegisterMutation","setAccessToken","accessTokenVar","userDataVar","SignUpScreen","email","setEmail","password","setPassword","verifiedPassword","setVerifiedPassword","firstName","setFirstName","lastName","setLastName","register","navigation","goHome","navigate","goDev","signUp","response","variables","newUsersInput","data","console","log","createUsers","accessToken","refreshToken","avatar","val"],"sources":["/Users/matthieu/Documents/boatproject/mobile/screens/SignUpScreen/SignUpScreen.tsx"],"sourcesContent":["import { useState } from 'react'\nimport { View, TextInput } from 'react-native'\nimport { useReactiveVar } from '@apollo/client'\n\nimport { useNavigation } from '@react-navigation/native'\nimport CustomButton from '@components/CustomButton/CustomButton'\nimport { useRegisterMutation, useGetUserDataQuery } from '../../graphql/graphql'\nimport { setAccessToken } from '../../accessToken'\nimport { accessTokenVar } from '../../variables/accessToken'\nimport { userDataVar } from '../../variables/userData'\n\ninterface SignUpScreenProps {}\n\nconst SignUpScreen: React.FunctionComponent<SignUpScreenProps> = ({}) => {\n  const [email, setEmail] = useState<string>('')\n\n  const [password, setPassword] = useState<string>('')\n  const [verifiedPassword, setVerifiedPassword] = useState<string>('')\n  const [firstName, setFirstName] = useState<string>('')\n  const [lastName, setLastName] = useState<string>('')\n  const [register] = useRegisterMutation()\n\n  const navigation = useNavigation()\n  const goHome = () => navigation.navigate('BottomTabs')\n  const goDev = () => navigation.navigate('Dev')\n\n  const signUp = async () => {\n    const response = await register({\n      variables: {\n        newUsersInput: {\n          email,\n          password,\n          firstName,\n          lastName,\n        },\n      },\n    })\n    if (response && response.data) {\n      console.log('REPONSE', response)\n      setAccessToken(response.data.createUsers.accessToken, response.data.createUsers.refreshToken)\n      accessTokenVar(response.data.createUsers.accessToken)\n      userDataVar({\n        firstName: response.data.createUsers.firstName,\n        lastName: response.data.createUsers.lastName,\n        avatar: response.data.createUsers.avatar,\n      })\n\n      navigation.navigate('BottomTabs')\n    }\n  }\n  return (\n    <View className='flex-1 items-center justify-center bg-blue-100'>\n      <CustomButton buttonTitle='Go Home' onPress={goHome} />\n      <CustomButton buttonTitle='Dev' onPress={goDev} />\n      <View className='mt-10 '>\n        <TextInput\n          className='bg-red-300'\n          onChangeText={(val) => setEmail(val)}\n          value={email}\n          placeholder='Adresse Email'\n        />\n        <TextInput\n          className='bg-red-300'\n          onChangeText={(val) => setPassword(val)}\n          value={password}\n          secureTextEntry={true}\n          placeholder='Mot de passe'\n        />\n        <TextInput\n          className='bg-red-300'\n          onChangeText={(val) => setVerifiedPassword(val)}\n          value={verifiedPassword}\n          secureTextEntry={true}\n          placeholder='Mot de passe'\n        />\n        <TextInput\n          className='bg-red-300'\n          onChangeText={(val) => setFirstName(val)}\n          value={firstName}\n          placeholder='First Name'\n        />\n        <TextInput\n          className='bg-red-300'\n          onChangeText={(val) => setLastName(val)}\n          value={lastName}\n          placeholder='Last Name'\n        />\n        <CustomButton buttonTitle='Sign-up' onPress={signUp} />\n\n        <CustomButton buttonTitle='Sign-in' onPress={() => navigation.navigate('SignIn')} />\n      </View>\n    </View>\n  )\n}\n\nexport default SignUpScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}