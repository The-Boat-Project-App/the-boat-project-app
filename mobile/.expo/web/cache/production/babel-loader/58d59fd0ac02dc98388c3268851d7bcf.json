{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\"],_excluded2=[\"_text\"];function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React,{memo,forwardRef}from'react';import View from\"react-native-web/dist/exports/View\";import{usePropsResolution}from\"../../../hooks/useThemeProps\";import{getColor}from\"../../../theme\";import{useTheme}from\"../../../hooks\";import{makeStyledComponent}from\"../../../utils/styled\";import{wrapStringChild}from\"../../../utils/wrapStringChild\";import{useSafeArea}from\"../../../hooks/useSafeArea\";import{useNativeBaseConfig}from\"../../../core/NativeBaseContext\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";var StyledBox=makeStyledComponent(View);var MemoizedGradient;var Box=function Box(_ref,ref){var children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);var _useNativeBaseConfig$,_resolvedProps$bg,_resolvedProps$backgr,_resolvedProps$bgColo,_resolvedProps$backgr2;var theme=useTheme();var _usePropsResolution=usePropsResolution('Box',props),_text=_usePropsResolution._text,resolvedProps=_objectWithoutProperties(_usePropsResolution,_excluded2);var Gradient=(_useNativeBaseConfig$=useNativeBaseConfig('NativeBaseConfigProvider').config.dependencies)===null||_useNativeBaseConfig$===void 0?void 0:_useNativeBaseConfig$['linear-gradient'];var safeAreaProps=useSafeArea(resolvedProps);if(useHasResponsiveProps(props)){return null;}if((_resolvedProps$bg=resolvedProps.bg)!==null&&_resolvedProps$bg!==void 0&&_resolvedProps$bg.linearGradient||(_resolvedProps$backgr=resolvedProps.background)!==null&&_resolvedProps$backgr!==void 0&&_resolvedProps$backgr.linearGradient||(_resolvedProps$bgColo=resolvedProps.bgColor)!==null&&_resolvedProps$bgColo!==void 0&&_resolvedProps$bgColo.linearGradient||(_resolvedProps$backgr2=resolvedProps.backgroundColor)!==null&&_resolvedProps$backgr2!==void 0&&_resolvedProps$backgr2.linearGradient){var _resolvedProps$bg2,_resolvedProps$backgr3,_resolvedProps$bgColo2,_resolvedProps$backgr4;var lgrad=((_resolvedProps$bg2=resolvedProps.bg)===null||_resolvedProps$bg2===void 0?void 0:_resolvedProps$bg2.linearGradient)||((_resolvedProps$backgr3=resolvedProps.background)===null||_resolvedProps$backgr3===void 0?void 0:_resolvedProps$backgr3.linearGradient)||((_resolvedProps$bgColo2=resolvedProps.bgColor)===null||_resolvedProps$bgColo2===void 0?void 0:_resolvedProps$bgColo2.linearGradient)||((_resolvedProps$backgr4=resolvedProps.backgroundColor)===null||_resolvedProps$backgr4===void 0?void 0:_resolvedProps$backgr4.linearGradient);if(Gradient){var _lgrad$colors;if(!MemoizedGradient){MemoizedGradient=makeStyledComponent(Gradient);}Gradient=MemoizedGradient;lgrad.colors=(_lgrad$colors=lgrad.colors)===null||_lgrad$colors===void 0?void 0:_lgrad$colors.map(function(color){return getColor(color,theme.colors,theme);});var startObj={x:0,y:0};var endObj={x:0,y:1};if(lgrad.start&&lgrad.start.length===2){startObj={x:lgrad.start[0],y:lgrad.start[1]};}if(lgrad.end&&lgrad.end.length===2){endObj={x:lgrad.end[0],y:lgrad.end[1]};}var backgroundColorProps=['bg','bgColor','background','backgroundColor'];backgroundColorProps.forEach(function(backgroundColorProp){if(backgroundColorProp in safeAreaProps)delete safeAreaProps[backgroundColorProp];});return React.createElement(Gradient,_extends({ref:ref},safeAreaProps,{colors:lgrad.colors,start:startObj,end:endObj,locations:lgrad.locations}),wrapStringChild(children,_text));}}return React.createElement(StyledBox,_extends({ref:ref},safeAreaProps),wrapStringChild(children,_text));};export default memo(forwardRef(Box));","map":{"version":3,"mappings":"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","names":["React","memo","forwardRef","usePropsResolution","getColor","useTheme","makeStyledComponent","wrapStringChild","useSafeArea","useNativeBaseConfig","useHasResponsiveProps","StyledBox","View","MemoizedGradient","Box","ref","children","props","theme","_text","resolvedProps","Gradient","config","dependencies","_useNativeBaseConfig$","safeAreaProps","bg","linearGradient","background","_resolvedProps$backgr","bgColor","_resolvedProps$bgColo","backgroundColor","_resolvedProps$backgr2","lgrad","_resolvedProps$backgr3","_resolvedProps$bgColo2","_resolvedProps$backgr4","colors","_lgrad$colors","map","color","startObj","x","y","endObj","start","length","end","backgroundColorProps","forEach","backgroundColorProp","locations"],"sources":["index.tsx"],"sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { View } from 'react-native';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { getColor } from '../../../theme';\nimport { useTheme } from '../../../hooks';\nimport { makeStyledComponent } from '../../../utils/styled';\nimport { wrapStringChild } from '../../../utils/wrapStringChild';\nimport type { IBoxProps, InterfaceBoxProps } from './types';\nimport { useSafeArea } from '../../../hooks/useSafeArea';\nimport { useNativeBaseConfig } from '../../../core/NativeBaseContext';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst StyledBox = makeStyledComponent(View);\n\nlet MemoizedGradient: any;\n\nconst Box = ({ children, ...props }: IBoxProps, ref: any) => {\n  // const { _text, ...resolvedProps } = useThemeProps('Box', props);\n  const theme = useTheme();\n  const { _text, ...resolvedProps } = usePropsResolution('Box', props);\n  let Gradient = useNativeBaseConfig('NativeBaseConfigProvider').config\n    .dependencies?.['linear-gradient'];\n\n  const safeAreaProps = useSafeArea(resolvedProps);\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  if (\n    resolvedProps.bg?.linearGradient ||\n    resolvedProps.background?.linearGradient ||\n    resolvedProps.bgColor?.linearGradient ||\n    resolvedProps.backgroundColor?.linearGradient\n  ) {\n    const lgrad =\n      resolvedProps.bg?.linearGradient ||\n      resolvedProps.background?.linearGradient ||\n      resolvedProps.bgColor?.linearGradient ||\n      resolvedProps.backgroundColor?.linearGradient;\n\n    if (Gradient) {\n      if (!MemoizedGradient) {\n        MemoizedGradient = makeStyledComponent(Gradient);\n      }\n\n      Gradient = MemoizedGradient;\n\n      lgrad.colors = lgrad.colors?.map((color: string) => {\n        return getColor(color, theme.colors, theme);\n      });\n      let startObj = { x: 0, y: 0 };\n      let endObj = { x: 0, y: 1 };\n      if (lgrad.start && lgrad.start.length === 2) {\n        startObj = {\n          x: lgrad.start[0],\n          y: lgrad.start[1],\n        };\n      }\n      if (lgrad.end && lgrad.end.length === 2) {\n        endObj = {\n          x: lgrad.end[0],\n          y: lgrad.end[1],\n        };\n      }\n      const backgroundColorProps = [\n        'bg',\n        'bgColor',\n        'background',\n        'backgroundColor',\n      ];\n      backgroundColorProps.forEach((backgroundColorProp) => {\n        if (backgroundColorProp in safeAreaProps)\n          delete safeAreaProps[backgroundColorProp];\n      });\n\n      return (\n        <Gradient\n          ref={ref}\n          {...safeAreaProps}\n          colors={lgrad.colors}\n          start={startObj}\n          end={endObj}\n          locations={lgrad.locations}\n        >\n          {/* {React.Children.map(children, (child) =>\n            typeof child === 'string' || typeof child === 'number' ? (\n              <Text {..._text}>{child}</Text>\n            ) : (\n              child\n            )\n          )} */}\n          {wrapStringChild(children, _text)}\n        </Gradient>\n      );\n    }\n  }\n  return (\n    <StyledBox ref={ref} {...safeAreaProps}>\n      {/* {React.Children.map(children, (child) => {\n        return typeof child === 'string' ||\n          typeof child === 'number' ||\n          (child?.type === React.Fragment &&\n            (typeof child.props?.children === 'string' ||\n              typeof child.props?.children === 'number')) ? (\n          <Text {..._text}>{child}</Text>\n        ) : (\n          child\n        );\n      })} */}\n      {wrapStringChild(children, _text)}\n    </StyledBox>\n  );\n};\n\nexport type { IBoxProps, InterfaceBoxProps };\nexport default memo(forwardRef(Box));\n"]},"metadata":{},"sourceType":"module"}