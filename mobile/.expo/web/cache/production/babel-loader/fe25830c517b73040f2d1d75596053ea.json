{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"html\",\"editorStyle\",\"useContainer\",\"style\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import{WebView}from'react-native-webview';import{actions,messages}from\"./const\";import Keyboard from\"react-native-web/dist/exports/Keyboard\";import Platform from\"react-native-web/dist/exports/Platform\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TextInput from\"react-native-web/dist/exports/TextInput\";import View from\"react-native-web/dist/exports/View\";import{createHTML}from\"./editor\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PlatformIOS=Platform.OS==='ios';var RichTextEditor=function(_Component){_inherits(RichTextEditor,_Component);var _super=_createSuper(RichTextEditor);function RichTextEditor(props){var _this;_classCallCheck(this,RichTextEditor);_this=_super.call(this,props);var that=_assertThisInitialized(_this);that.renderWebView=that.renderWebView.bind(that);that.onMessage=that.onMessage.bind(that);that.sendAction=that.sendAction.bind(that);that.registerToolbar=that.registerToolbar.bind(that);that._onKeyboardWillShow=that._onKeyboardWillShow.bind(that);that._onKeyboardWillHide=that._onKeyboardWillHide.bind(that);that.init=that.init.bind(that);that.setRef=that.setRef.bind(that);that.onViewLayout=that.onViewLayout.bind(that);that.unmount=false;that._keyOpen=false;that._focus=false;that.layout={};that.selectionChangeListeners=[];var _props$editorStyle=props.editorStyle;_props$editorStyle=_props$editorStyle===void 0?{}:_props$editorStyle;var backgroundColor=_props$editorStyle.backgroundColor,color=_props$editorStyle.color,placeholderColor=_props$editorStyle.placeholderColor,initialCSSText=_props$editorStyle.initialCSSText,cssText=_props$editorStyle.cssText,contentCSSText=_props$editorStyle.contentCSSText,caretColor=_props$editorStyle.caretColor,html=props.html,pasteAsPlainText=props.pasteAsPlainText,onPaste=props.onPaste,onKeyUp=props.onKeyUp,onKeyDown=props.onKeyDown,onInput=props.onInput,enterKeyHint=props.enterKeyHint,autoCapitalize=props.autoCapitalize,autoCorrect=props.autoCorrect,defaultParagraphSeparator=props.defaultParagraphSeparator,firstFocusEnd=props.firstFocusEnd,useContainer=props.useContainer,initialHeight=props.initialHeight;that.state={html:{html:html||createHTML({backgroundColor:backgroundColor,color:color,caretColor:caretColor,placeholderColor:placeholderColor,initialCSSText:initialCSSText,cssText:cssText,contentCSSText:contentCSSText,pasteAsPlainText:pasteAsPlainText,pasteListener:!!onPaste,keyUpListener:!!onKeyUp,keyDownListener:!!onKeyDown,inputListener:!!onInput,enterKeyHint:enterKeyHint,autoCapitalize:autoCapitalize,autoCorrect:autoCorrect,defaultParagraphSeparator:defaultParagraphSeparator,firstFocusEnd:firstFocusEnd,useContainer:useContainer})},keyboardHeight:0,height:initialHeight};that.focusListeners=[];return _this;}_createClass(RichTextEditor,[{key:\"componentDidMount\",value:function componentDidMount(){this.unmount=false;if(PlatformIOS){this.keyboardEventListeners=[Keyboard.addListener('keyboardWillShow',this._onKeyboardWillShow),Keyboard.addListener('keyboardWillHide',this._onKeyboardWillHide)];}else{this.keyboardEventListeners=[Keyboard.addListener('keyboardDidShow',this._onKeyboardWillShow),Keyboard.addListener('keyboardDidHide',this._onKeyboardWillHide)];}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unmount=true;this.keyboardEventListeners.forEach(function(eventListener){return eventListener.remove();});}},{key:\"_onKeyboardWillShow\",value:function _onKeyboardWillShow(event){this._keyOpen=true;}},{key:\"_onKeyboardWillHide\",value:function _onKeyboardWillHide(event){this._keyOpen=false;}},{key:\"onMessage\",value:function onMessage(event){var _console;var that=this;var _that$props=that.props,onFocus=_that$props.onFocus,onBlur=_that$props.onBlur,onChange=_that$props.onChange,onPaste=_that$props.onPaste,onKeyUp=_that$props.onKeyUp,onKeyDown=_that$props.onKeyDown,onInput=_that$props.onInput,onMessage=_that$props.onMessage,onCursorPosition=_that$props.onCursorPosition;try{var message=JSON.parse(event.nativeEvent.data);var data=message.data;switch(message.type){case messages.CONTENT_HTML_RESPONSE:if(that.contentResolve){that.contentResolve(message.data);that.contentResolve=undefined;that.contentReject=undefined;if(that.pendingContentHtml){clearTimeout(that.pendingContentHtml);that.pendingContentHtml=undefined;}}break;case messages.LOG:(_console=console).log.apply(_console,['FROM EDIT:'].concat(_toConsumableArray(data)));break;case messages.SELECTION_CHANGE:var items=message.data;that.selectionChangeListeners.map(function(listener){listener(items);});break;case messages.CONTENT_FOCUSED:that._focus=true;that.focusListeners.map(function(da){return da();});onFocus==null?void 0:onFocus();break;case messages.CONTENT_BLUR:that._focus=false;onBlur==null?void 0:onBlur();break;case messages.CONTENT_CHANGE:onChange==null?void 0:onChange(data);break;case messages.CONTENT_PASTED:onPaste==null?void 0:onPaste(data);break;case messages.CONTENT_KEYUP:onKeyUp==null?void 0:onKeyUp(data);break;case messages.CONTENT_KEYDOWN:onKeyDown==null?void 0:onKeyDown(data);break;case messages.ON_INPUT:onInput==null?void 0:onInput(data);break;case messages.OFFSET_HEIGHT:that.setWebHeight(data);break;case messages.OFFSET_Y:var offsetY=Number.parseInt(Number.parseInt(data)+that.layout.y||0);offsetY>0&&onCursorPosition(offsetY);break;default:onMessage==null?void 0:onMessage(message);break;}}catch(e){}}},{key:\"setWebHeight\",value:function setWebHeight(height){var _this$props=this.props,onHeightChange=_this$props.onHeightChange,useContainer=_this$props.useContainer,initialHeight=_this$props.initialHeight;if(height!==this.state.height){var maxHeight=Math.max(height,initialHeight);if(!this.unmount&&useContainer&&maxHeight>=initialHeight){this.setState({height:maxHeight});}onHeightChange&&onHeightChange(height);}}},{key:\"sendAction\",value:function sendAction(type,action,data,options){var jsonString=JSON.stringify({type:type,name:action,data:data,options:options});if(!this.unmount&&this.webviewBridge){this.webviewBridge.postMessage(jsonString);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){var _this$props2=this.props,editorStyle=_this$props2.editorStyle,disabled=_this$props2.disabled,placeholder=_this$props2.placeholder;if(prevProps.editorStyle!==editorStyle){editorStyle&&this.setContentStyle(editorStyle);}if(disabled!==prevProps.disabled){this.setDisable(disabled);}if(placeholder!==prevProps.placeholder){this.setPlaceholder(placeholder);}}},{key:\"setRef\",value:function setRef(ref){this.webviewBridge=ref;}},{key:\"renderWebView\",value:function renderWebView(){var that=this;var _that$props2=that.props,html=_that$props2.html,editorStyle=_that$props2.editorStyle,useContainer=_that$props2.useContainer,style=_that$props2.style,rest=_objectWithoutProperties(_that$props2,_excluded);var viewHTML=that.state.html;return _jsxs(_Fragment,{children:[_jsx(WebView,_objectSpread(_objectSpread({useWebKit:true,scrollEnabled:false,hideKeyboardAccessoryView:true,keyboardDisplayRequiresUserAction:false,nestedScrollEnabled:!useContainer,style:[styles.webview,style]},rest),{},{ref:that.setRef,onMessage:that.onMessage,originWhitelist:['*'],dataDetectorTypes:'none',domStorageEnabled:false,bounces:false,javaScriptEnabled:true,source:viewHTML,onLoad:that.init})),Platform.OS==='android'&&_jsx(TextInput,{ref:function ref(_ref){return that._input=_ref;},style:styles._input})]});}},{key:\"onViewLayout\",value:function onViewLayout(_ref2){var layout=_ref2.nativeEvent.layout;this.layout=layout;}},{key:\"render\",value:function render(){var height=this.state.height;var _this$props3=this.props,useContainer=_this$props3.useContainer,style=_this$props3.style;return useContainer?_jsx(View,{style:[style,{height:height}],onLayout:this.onViewLayout,children:this.renderWebView()}):this.renderWebView();}},{key:\"registerToolbar\",value:function registerToolbar(listener){this.selectionChangeListeners=[].concat(_toConsumableArray(this.selectionChangeListeners),[listener]);}},{key:\"setContentFocusHandler\",value:function setContentFocusHandler(listener){this.focusListeners.push(listener);}},{key:\"setContentHTML\",value:function setContentHTML(html){this.sendAction(actions.content,'setHtml',html);}},{key:\"setPlaceholder\",value:function setPlaceholder(placeholder){this.sendAction(actions.content,'setPlaceholder',placeholder);}},{key:\"setContentStyle\",value:function setContentStyle(styles){this.sendAction(actions.content,'setContentStyle',styles);}},{key:\"setDisable\",value:function setDisable(dis){this.sendAction(actions.content,'setDisable',!!dis);}},{key:\"blurContentEditor\",value:function blurContentEditor(){this.sendAction(actions.content,'blur');}},{key:\"focusContentEditor\",value:function focusContentEditor(){this.showAndroidKeyboard();this.sendAction(actions.content,'focus');}},{key:\"showAndroidKeyboard\",value:function showAndroidKeyboard(){var that=this;if(Platform.OS==='android'){!that._keyOpen&&that._input.focus();that.webviewBridge.requestFocus&&that.webviewBridge.requestFocus();}}},{key:\"insertImage\",value:function insertImage(attributes,style){this.sendAction(actions.insertImage,'result',attributes,style);}},{key:\"insertVideo\",value:function insertVideo(attributes,style){this.sendAction(actions.insertVideo,'result',attributes,style);}},{key:\"insertText\",value:function insertText(text){this.sendAction(actions.insertText,'result',text);}},{key:\"insertHTML\",value:function insertHTML(html){this.sendAction(actions.insertHTML,'result',html);}},{key:\"insertLink\",value:function insertLink(title,url){if(url){this.showAndroidKeyboard();this.sendAction(actions.insertLink,'result',{title:title,url:url});}}},{key:\"preCode\",value:function preCode(type){this.sendAction(actions.code,'result',type);}},{key:\"setFontSize\",value:function setFontSize(size){this.sendAction(actions.fontSize,'result',size);}},{key:\"setForeColor\",value:function setForeColor(color){this.sendAction(actions.foreColor,'result',color);}},{key:\"setHiliteColor\",value:function setHiliteColor(color){this.sendAction(actions.hiliteColor,'result',color);}},{key:\"setFontName\",value:function setFontName(name){this.sendAction(actions.fontName,'result',name);}},{key:\"commandDOM\",value:function commandDOM(command){if(command){this.sendAction(actions.content,'commandDOM',command);}}},{key:\"command\",value:function command(_command){if(_command){this.sendAction(actions.content,'command',_command);}}},{key:\"dismissKeyboard\",value:function dismissKeyboard(){this._focus?this.blurContentEditor():Keyboard.dismiss();}},{key:\"isKeyboardOpen\",get:function get(){return this._keyOpen;}},{key:\"init\",value:function init(){var that=this;var _that$props3=that.props,initialFocus=_that$props3.initialFocus,initialContentHTML=_that$props3.initialContentHTML,placeholder=_that$props3.placeholder,editorInitializedCallback=_that$props3.editorInitializedCallback,disabled=_that$props3.disabled;initialContentHTML&&that.setContentHTML(initialContentHTML);placeholder&&that.setPlaceholder(placeholder);that.setDisable(disabled);editorInitializedCallback();initialFocus&&!disabled&&that.focusContentEditor();that.sendAction(actions.init);}},{key:\"getContentHtml\",value:function(){var _getContentHtml=_asyncToGenerator(function*(){var _this2=this;return new Promise(function(resolve,reject){_this2.contentResolve=resolve;_this2.contentReject=reject;_this2.sendAction(actions.content,'postHtml');_this2.pendingContentHtml=setTimeout(function(){if(_this2.contentReject){_this2.contentReject('timeout');}},5000);});});function getContentHtml(){return _getContentHtml.apply(this,arguments);}return getContentHtml;}()}]);return RichTextEditor;}(Component);RichTextEditor.defaultProps={contentInset:{},style:{},placeholder:'',initialContentHTML:'',initialFocus:false,disabled:false,useContainer:true,pasteAsPlainText:false,autoCapitalize:'off',defaultParagraphSeparator:'div',editorInitializedCallback:function editorInitializedCallback(){},initialHeight:0};export{RichTextEditor as default};var styles=StyleSheet.create({_input:{position:'absolute',width:1,height:1,zIndex:-999,bottom:-999,left:-999},webview:{backgroundColor:\"transparent\"}});","map":{"version":3,"names":["React","Component","WebView","actions","messages","createHTML","PlatformIOS","Platform","OS","RichTextEditor","props","that","renderWebView","bind","onMessage","sendAction","registerToolbar","_onKeyboardWillShow","_onKeyboardWillHide","init","setRef","onViewLayout","unmount","_keyOpen","_focus","layout","selectionChangeListeners","editorStyle","backgroundColor","color","placeholderColor","initialCSSText","cssText","contentCSSText","caretColor","html","pasteAsPlainText","onPaste","onKeyUp","onKeyDown","onInput","enterKeyHint","autoCapitalize","autoCorrect","defaultParagraphSeparator","firstFocusEnd","useContainer","initialHeight","state","pasteListener","keyUpListener","keyDownListener","inputListener","keyboardHeight","height","focusListeners","keyboardEventListeners","Keyboard","addListener","forEach","eventListener","remove","event","onFocus","onBlur","onChange","onCursorPosition","message","JSON","parse","nativeEvent","data","type","CONTENT_HTML_RESPONSE","contentResolve","undefined","contentReject","pendingContentHtml","clearTimeout","LOG","console","log","SELECTION_CHANGE","items","map","listener","CONTENT_FOCUSED","da","CONTENT_BLUR","CONTENT_CHANGE","CONTENT_PASTED","CONTENT_KEYUP","CONTENT_KEYDOWN","ON_INPUT","OFFSET_HEIGHT","setWebHeight","OFFSET_Y","offsetY","Number","parseInt","y","e","onHeightChange","maxHeight","Math","max","setState","action","options","jsonString","stringify","name","webviewBridge","postMessage","prevProps","prevState","snapshot","disabled","placeholder","setContentStyle","setDisable","setPlaceholder","ref","style","rest","viewHTML","styles","webview","_input","push","content","dis","showAndroidKeyboard","focus","requestFocus","attributes","insertImage","insertVideo","text","insertText","insertHTML","title","url","insertLink","code","size","fontSize","foreColor","hiliteColor","fontName","command","blurContentEditor","dismiss","initialFocus","initialContentHTML","editorInitializedCallback","setContentHTML","focusContentEditor","Promise","resolve","reject","setTimeout","defaultProps","contentInset","StyleSheet","create","position","width","zIndex","bottom","left"],"sources":["/Users/matthieu/Documents/boatproject/node_modules/react-native-pell-rich-editor/src/RichEditor.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {WebView} from 'react-native-webview';\nimport {actions, messages} from './const';\nimport {Keyboard, Platform, StyleSheet, TextInput, View} from 'react-native';\nimport {createHTML} from './editor';\n\nconst PlatformIOS = Platform.OS === 'ios';\n\nexport default class RichTextEditor extends Component {\n    // static propTypes = {\n    //     initialContentHTML: PropTypes.string,\n    //     editorInitializedCallback: PropTypes.func,\n    //     onChange: PropTypes.func,\n    //     onHeightChange: PropTypes.func,\n    //     initialFocus: PropTypes.bool,\n    //     disabled: PropTypes.bool,\n    //     onPaste: PropTypes.func,\n    //     onKeyUp: PropTypes.func,\n    //     onKeyDown: PropTypes.func,\n    //     onFocus: PropTypes.func,\n    // };\n\n    static defaultProps = {\n        contentInset: {},\n        style: {},\n        placeholder: '',\n        initialContentHTML: '',\n        initialFocus: false,\n        disabled: false,\n        useContainer: true,\n        pasteAsPlainText: false,\n        autoCapitalize: 'off',\n        defaultParagraphSeparator: 'div',\n        editorInitializedCallback: () => {},\n        initialHeight: 0,\n    };\n\n    constructor(props) {\n        super(props);\n        let that = this;\n        that.renderWebView = that.renderWebView.bind(that);\n        that.onMessage = that.onMessage.bind(that);\n        that.sendAction = that.sendAction.bind(that);\n        that.registerToolbar = that.registerToolbar.bind(that);\n        that._onKeyboardWillShow = that._onKeyboardWillShow.bind(that);\n        that._onKeyboardWillHide = that._onKeyboardWillHide.bind(that);\n        that.init = that.init.bind(that);\n        that.setRef = that.setRef.bind(that);\n        that.onViewLayout = that.onViewLayout.bind(that);\n        that.unmount = false;\n        that._keyOpen = false;\n        that._focus = false;\n        that.layout = {};\n        that.selectionChangeListeners = [];\n        const {\n            editorStyle: {backgroundColor, color, placeholderColor, initialCSSText, cssText, contentCSSText, caretColor} = {},\n            html,\n            pasteAsPlainText,\n            onPaste,\n            onKeyUp,\n            onKeyDown,\n            onInput,\n            enterKeyHint,\n            autoCapitalize,\n            autoCorrect,\n            defaultParagraphSeparator,\n            firstFocusEnd,\n            useContainer,\n            initialHeight,\n        } = props;\n        that.state = {\n            html: {\n                html:\n                    html ||\n                    createHTML({\n                        backgroundColor,\n                        color,\n                        caretColor,\n                        placeholderColor,\n                        initialCSSText,\n                        cssText,\n                        contentCSSText,\n                        pasteAsPlainText,\n                        pasteListener: !!onPaste,\n                        keyUpListener: !!onKeyUp,\n                        keyDownListener: !!onKeyDown,\n                        inputListener: !!onInput,\n                        enterKeyHint,\n                        autoCapitalize,\n                        autoCorrect,\n                        defaultParagraphSeparator,\n                        firstFocusEnd,\n                        useContainer,\n                    }),\n            },\n            keyboardHeight: 0,\n            height: initialHeight,\n        };\n        that.focusListeners = [];\n    }\n\n    componentDidMount() {\n        this.unmount = false;\n        if (PlatformIOS) {\n            this.keyboardEventListeners = [\n                Keyboard.addListener('keyboardWillShow', this._onKeyboardWillShow),\n                Keyboard.addListener('keyboardWillHide', this._onKeyboardWillHide),\n            ];\n        } else {\n            this.keyboardEventListeners = [\n                Keyboard.addListener('keyboardDidShow', this._onKeyboardWillShow),\n                Keyboard.addListener('keyboardDidHide', this._onKeyboardWillHide),\n            ];\n        }\n    }\n\n    componentWillUnmount() {\n        this.unmount = true;\n        this.keyboardEventListeners.forEach(eventListener => eventListener.remove());\n    }\n\n    _onKeyboardWillShow(event) {\n        this._keyOpen = true;\n        // console.log('!!!!', event);\n        /*const newKeyboardHeight = event.endCoordinates.height;\n        if (this.state.keyboardHeight === newKeyboardHeight) {\n            return;\n        }\n        if (newKeyboardHeight) {\n            this.setEditorAvailableHeightBasedOnKeyboardHeight(newKeyboardHeight);\n        }\n        this.setState({keyboardHeight: newKeyboardHeight});*/\n    }\n\n    _onKeyboardWillHide(event) {\n        this._keyOpen = false;\n        // this.setState({keyboardHeight: 0});\n    }\n\n    /*setEditorAvailableHeightBasedOnKeyboardHeight(keyboardHeight) {\n        const {top = 0, bottom = 0} = this.props.contentInset;\n        const {marginTop = 0, marginBottom = 0} = this.props.style;\n        const spacing = marginTop + marginBottom + top + bottom;\n\n        const editorAvailableHeight = Dimensions.get('window').height - keyboardHeight - spacing;\n        // this.setEditorHeight(editorAvailableHeight);\n    }*/\n\n    onMessage(event) {\n        const that = this;\n        const {onFocus, onBlur, onChange, onPaste, onKeyUp, onKeyDown, onInput, onMessage, onCursorPosition} = that.props;\n        try {\n            const message = JSON.parse(event.nativeEvent.data);\n            const data = message.data;\n            switch (message.type) {\n                case messages.CONTENT_HTML_RESPONSE:\n                    if (that.contentResolve) {\n                        that.contentResolve(message.data);\n                        that.contentResolve = undefined;\n                        that.contentReject = undefined;\n                        if (that.pendingContentHtml) {\n                            clearTimeout(that.pendingContentHtml);\n                            that.pendingContentHtml = undefined;\n                        }\n                    }\n                    break;\n                case messages.LOG:\n                    console.log('FROM EDIT:', ...data);\n                    break;\n                case messages.SELECTION_CHANGE:\n                    const items = message.data;\n                    that.selectionChangeListeners.map(listener => {\n                        listener(items);\n                    });\n                    break;\n                case messages.CONTENT_FOCUSED:\n                    that._focus = true;\n                    that.focusListeners.map(da => da()); // Subsequent versions will be deleted\n                    onFocus?.();\n                    break;\n                case messages.CONTENT_BLUR:\n                    that._focus = false;\n                    onBlur?.();\n                    break;\n                case messages.CONTENT_CHANGE:\n                    onChange?.(data);\n                    break;\n                case messages.CONTENT_PASTED:\n                    onPaste?.(data);\n                    break;\n                case messages.CONTENT_KEYUP:\n                    onKeyUp?.(data);\n                    break;\n                case messages.CONTENT_KEYDOWN:\n                    onKeyDown?.(data);\n                    break;\n                case messages.ON_INPUT:\n                    onInput?.(data);\n                    break;\n                case messages.OFFSET_HEIGHT:\n                    that.setWebHeight(data);\n                    break;\n                case messages.OFFSET_Y:\n                    let offsetY = Number.parseInt(Number.parseInt(data) + that.layout.y || 0);\n                    offsetY > 0 && onCursorPosition(offsetY);\n                    break;\n                default:\n                    onMessage?.(message);\n                    break;\n            }\n        } catch (e) {\n            //alert('NON JSON MESSAGE');\n        }\n    }\n\n    setWebHeight(height) {\n        const {onHeightChange, useContainer, initialHeight} = this.props;\n        if (height !== this.state.height) {\n            const maxHeight = Math.max(height, initialHeight);\n            if (!this.unmount && useContainer && maxHeight >= initialHeight) {\n                this.setState({height: maxHeight});\n            }\n            onHeightChange && onHeightChange(height);\n        }\n    }\n\n    /**\n     * @param {String} type\n     * @param {String} action\n     * @param {any} data\n     * @param [options]\n     * @private\n     */\n    sendAction(type, action, data, options) {\n        let jsonString = JSON.stringify({type, name: action, data, options});\n        if (!this.unmount && this.webviewBridge) {\n            this.webviewBridge.postMessage(jsonString);\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {editorStyle, disabled,placeholder} = this.props;\n        if (prevProps.editorStyle !== editorStyle) {\n            editorStyle && this.setContentStyle(editorStyle);\n        }\n        if (disabled !== prevProps.disabled) {\n            this.setDisable(disabled);\n        }\n        if(placeholder!== prevProps.placeholder){\n            this.setPlaceholder(placeholder);\n        }\n    }\n\n    setRef(ref) {\n        this.webviewBridge = ref;\n    }\n\n    renderWebView() {\n        let that = this;\n        const {html, editorStyle, useContainer, style, ...rest} = that.props;\n        const {html: viewHTML} = that.state;\n        return (\n            <>\n                <WebView\n                    useWebKit={true}\n                    scrollEnabled={false}\n                    hideKeyboardAccessoryView={true}\n                    keyboardDisplayRequiresUserAction={false}\n                    nestedScrollEnabled={!useContainer}\n                    style={[styles.webview, style]}\n                    {...rest}\n                    ref={that.setRef}\n                    onMessage={that.onMessage}\n                    originWhitelist={['*']}\n                    dataDetectorTypes={'none'}\n                    domStorageEnabled={false}\n                    bounces={false}\n                    javaScriptEnabled={true}\n                    source={viewHTML}\n                    onLoad={that.init}\n                />\n                {Platform.OS === 'android' && <TextInput ref={ref => (that._input = ref)} style={styles._input} />}\n            </>\n        );\n    }\n\n    onViewLayout({nativeEvent: {layout}}) {\n        // const {x, y, width, height} = layout;\n        this.layout = layout;\n    }\n\n    render() {\n        let {height} = this.state;\n\n        // useContainer is an optional prop with default value of true\n        // If set to true, it will use a View wrapper with styles and height.\n        // If set to false, it will not use a View wrapper\n        const {useContainer, style} = this.props;\n        return useContainer ? (\n            <View style={[style, {height}]} onLayout={this.onViewLayout}>\n                {this.renderWebView()}\n            </View>\n        ) : (\n            this.renderWebView()\n        );\n    }\n\n    //-------------------------------------------------------------------------------\n    //--------------- Public API\n\n    registerToolbar(listener) {\n        this.selectionChangeListeners = [...this.selectionChangeListeners, listener];\n    }\n\n    /**\n     * Subsequent versions will be deleted, please use onFocus\n     * @deprecated remove\n     * @param listener\n     */\n    setContentFocusHandler(listener) {\n        this.focusListeners.push(listener);\n    }\n\n    setContentHTML(html) {\n        this.sendAction(actions.content, 'setHtml', html);\n    }\n\n    setPlaceholder(placeholder) {\n        this.sendAction(actions.content, 'setPlaceholder', placeholder);\n    }\n\n    setContentStyle(styles) {\n        this.sendAction(actions.content, 'setContentStyle', styles);\n    }\n\n    setDisable(dis) {\n        this.sendAction(actions.content, 'setDisable', !!dis);\n    }\n\n    blurContentEditor() {\n        this.sendAction(actions.content, 'blur');\n    }\n\n    focusContentEditor() {\n        this.showAndroidKeyboard();\n        this.sendAction(actions.content, 'focus');\n    }\n\n    /**\n     * open android keyboard\n     * @platform android\n     */\n    showAndroidKeyboard() {\n        let that = this;\n        if (Platform.OS === 'android') {\n            !that._keyOpen && that._input.focus();\n            that.webviewBridge.requestFocus && that.webviewBridge.requestFocus();\n        }\n    }\n\n    /**\n     * @param attributes\n     * @param [style]\n     */\n    insertImage(attributes, style) {\n        this.sendAction(actions.insertImage, 'result', attributes, style);\n    }\n\n    /**\n     * @param attributes\n     * @param [style]\n     */\n    insertVideo(attributes, style) {\n        this.sendAction(actions.insertVideo, 'result', attributes, style);\n    }\n\n    insertText(text) {\n        this.sendAction(actions.insertText, 'result', text);\n    }\n\n    insertHTML(html) {\n        this.sendAction(actions.insertHTML, 'result', html);\n    }\n\n    insertLink(title, url) {\n        if (url) {\n            this.showAndroidKeyboard();\n            this.sendAction(actions.insertLink, 'result', {title, url});\n        }\n    }\n\n    preCode(type) {\n        this.sendAction(actions.code, 'result', type);\n    }\n\n    setFontSize(size) {\n        this.sendAction(actions.fontSize, 'result', size);\n    }\n\n    setForeColor(color) {\n        this.sendAction(actions.foreColor, 'result', color);\n    }\n\n    setHiliteColor(color) {\n        this.sendAction(actions.hiliteColor, 'result', color);\n    }\n\n    setFontName(name) {\n        this.sendAction(actions.fontName, 'result', name);\n    }\n\n    commandDOM(command) {\n        if (command) {\n            this.sendAction(actions.content, 'commandDOM', command);\n        }\n    }\n\n    command(command) {\n        if (command) {\n            this.sendAction(actions.content, 'command', command);\n        }\n    }\n\n    dismissKeyboard() {\n        this._focus ? this.blurContentEditor() : Keyboard.dismiss();\n    }\n\n    get isKeyboardOpen() {\n        return this._keyOpen;\n    }\n\n    init() {\n        let that = this;\n        const {initialFocus, initialContentHTML, placeholder, editorInitializedCallback, disabled} = that.props;\n        initialContentHTML && that.setContentHTML(initialContentHTML);\n        placeholder && that.setPlaceholder(placeholder);\n        that.setDisable(disabled);\n        editorInitializedCallback();\n\n        // initial request focus\n        initialFocus && !disabled && that.focusContentEditor();\n        // no visible ?\n        that.sendAction(actions.init);\n    }\n\n    /**\n     * @deprecated please use onChange\n     * @returns {Promise}\n     */\n    async getContentHtml() {\n        return new Promise((resolve, reject) => {\n            this.contentResolve = resolve;\n            this.contentReject = reject;\n            this.sendAction(actions.content, 'postHtml');\n\n            this.pendingContentHtml = setTimeout(() => {\n                if (this.contentReject) {\n                    this.contentReject('timeout');\n                }\n            }, 5000);\n        });\n    }\n}\n\nconst styles = StyleSheet.create({\n    _input: {\n        position: 'absolute',\n        width: 1,\n        height: 1,\n        zIndex: -999,\n        bottom: -999,\n        left: -999,\n    },\n\n    webview: {\n        backgroundColor: \"transparent\"\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}