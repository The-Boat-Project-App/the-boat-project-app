{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";var _INITIAL_PROP_SPECIFI;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import merge from'lodash.merge';var SPECIFICITY_1000=1000;var SPECIFICITY_110=110;var SPECIFICITY_100=100;var SPECIFICITY_70=70;var SPECIFICITY_60=60;var SPECIFICITY_55=55;var SPECIFICITY_50=50;var SPECIFICITY_40=40;var SPECIFICITY_30=30;var SPECIFICITY_20=20;var SPECIFICITY_10=10;var specificityPrecedence=[SPECIFICITY_1000,SPECIFICITY_110,SPECIFICITY_100,SPECIFICITY_70,SPECIFICITY_60,SPECIFICITY_55,SPECIFICITY_50,SPECIFICITY_40,SPECIFICITY_30,SPECIFICITY_20,SPECIFICITY_10];var INITIAL_PROP_SPECIFICITY=(_INITIAL_PROP_SPECIFI={},_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_1000,0),_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_110,0),_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_100,0),_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_70,0),_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_60,0),_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_50,0),_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_55,0),_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_40,0),_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_30,0),_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_20,0),_defineProperty(_INITIAL_PROP_SPECIFI,SPECIFICITY_10,0),_INITIAL_PROP_SPECIFI);var pseudoPropsMap={_web:{dependentOn:'platform',priority:SPECIFICITY_10},_ios:{dependentOn:'platform',priority:SPECIFICITY_10},_android:{dependentOn:'platform',priority:SPECIFICITY_10},_light:{dependentOn:'colormode',priority:SPECIFICITY_10},_dark:{dependentOn:'colormode',priority:SPECIFICITY_10},_indeterminate:{dependentOn:'state',respondTo:'isIndeterminate',priority:SPECIFICITY_30},_checked:{dependentOn:'state',respondTo:'isChecked',priority:SPECIFICITY_30},_readOnly:{dependentOn:'state',respondTo:'isReadOnly',priority:SPECIFICITY_30},_invalid:{dependentOn:'state',respondTo:'isInvalid',priority:SPECIFICITY_40},_focus:{dependentOn:'state',respondTo:'isFocused',priority:SPECIFICITY_50},_focusVisible:{dependentOn:'state',respondTo:'isFocusVisible',priority:SPECIFICITY_55},_hover:{dependentOn:'state',respondTo:'isHovered',priority:SPECIFICITY_60},_pressed:{dependentOn:'state',respondTo:'isPressed',priority:SPECIFICITY_70},_disabled:{dependentOn:'state',respondTo:'isDisabled',priority:SPECIFICITY_100},_loading:{dependentOn:'state',respondTo:'isLoading',priority:SPECIFICITY_110},_important:{dependentOn:null,priority:SPECIFICITY_1000}};export var compareSpecificity=function compareSpecificity(exisiting,upcoming,ignorebaseTheme){if(!exisiting)return true;if(!upcoming)return false;var condition=ignorebaseTheme?specificityPrecedence.length-1:specificityPrecedence.length;for(var index=0;index<condition;index++){if(exisiting[specificityPrecedence[index]]>upcoming[specificityPrecedence[index]]){return false;}else if(exisiting[specificityPrecedence[index]]<upcoming[specificityPrecedence[index]]){return true;}}return true;};var shouldResolvePseudoProp=function shouldResolvePseudoProp(_ref){var property=_ref.property,state=_ref.state,platform=_ref.platform,colormode=_ref.colormode;if(pseudoPropsMap[property].dependentOn==='platform'){return property===\"_\".concat(platform);}else if(pseudoPropsMap[property].dependentOn==='colormode'){return property===\"_\".concat(colormode);}else if(pseudoPropsMap[property].dependentOn==='state'){return state[pseudoPropsMap[property].respondTo];}else if(pseudoPropsMap[property].dependentOn===null){return true;}else{return false;}};var simplifyProps=function simplifyProps(_ref2){var props=_ref2.props,colormode=_ref2.colormode,platform=_ref2.platform,state=_ref2.state,currentSpecificity=_ref2.currentSpecificity,previouslyFlattenProps=_ref2.previouslyFlattenProps,cascadePseudoProps=_ref2.cascadePseudoProps;var flattenProps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var specificityMap=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var priority=arguments.length>3?arguments[3]:undefined;var mergePsuedoProps=function mergePsuedoProps(property,propertySpecity){if(compareSpecificity(specificityMap[property],propertySpecity,false)){if(\"production\"==='development'&&props.debug){console.log(\"%c \".concat(property),'color: #818cf8;','updated as internal prop with higher specificity');}specificityMap[property]=propertySpecity;flattenProps[property]=merge({},flattenProps[property],props[property]);}else{if(\"production\"==='development'&&props.debug){console.log(\"%c \".concat(property),'color: #818cf8;','updated as internal prop with lower specificity');}flattenProps[property]=merge({},props[property],flattenProps[property]);}};for(var property in props){var _pseudoPropsMap$prope;var propertySpecity=currentSpecificity?_objectSpread({},currentSpecificity):_objectSpread(_objectSpread({},INITIAL_PROP_SPECIFICITY),{},_defineProperty({},SPECIFICITY_20,priority));if(state[(_pseudoPropsMap$prope=pseudoPropsMap[property])===null||_pseudoPropsMap$prope===void 0?void 0:_pseudoPropsMap$prope.respondTo]||['_dark','_light','_web','_ios','_android','_important'].includes(property)){if(shouldResolvePseudoProp({property:property,state:state,platform:platform,colormode:colormode})){if(\"production\"==='development'&&props.debug){console.log(\"%c \".concat(property),'color: #818cf8;','recursively resolving');}propertySpecity[pseudoPropsMap[property].priority]++;simplifyProps({props:props[property],colormode:colormode,platform:platform,state:state,currentSpecificity:propertySpecity,previouslyFlattenProps:previouslyFlattenProps,cascadePseudoProps:cascadePseudoProps},flattenProps,specificityMap,priority);}}else if(pseudoPropsMap[property]===undefined){if(property.startsWith('_')){mergePsuedoProps(property,propertySpecity);}else{if(compareSpecificity(specificityMap[property],propertySpecity,false)){if(\"production\"==='development'&&props.debug){console.log(\"%c \".concat(property),'color: #818cf8;','updated as simple prop');}specificityMap[property]=propertySpecity;flattenProps[property]=props[property];}else{if(\"production\"==='development'&&props.debug){console.log(\"%c \".concat(property),'color: #818cf8;','ignored');}}}}else{if(!cascadePseudoProps){delete flattenProps[property];if(\"production\"==='development'&&props.debug){console.log(\"%c \".concat(property),'color: #818cf8;','deleted');}}else{if(\"production\"==='development'&&props.debug){console.log(\"%c \".concat(property),'color: #818cf8;','cascaded');}mergePsuedoProps(property,propertySpecity);}}}};export var propsFlattener=function propsFlattener(_ref3,priority){var props=_ref3.props,colormode=_ref3.colormode,platform=_ref3.platform,state=_ref3.state,currentSpecificityMap=_ref3.currentSpecificityMap,previouslyFlattenProps=_ref3.previouslyFlattenProps,cascadePseudoProps=_ref3.cascadePseudoProps;var flattenProps={};for(var property in props){var _pseudoPropsMap$prope2;if(state[(_pseudoPropsMap$prope2=pseudoPropsMap[property])===null||_pseudoPropsMap$prope2===void 0?void 0:_pseudoPropsMap$prope2.respondTo]===undefined&&property.startsWith('_')){flattenProps[property]=previouslyFlattenProps[property];}}var specificityMap=currentSpecificityMap||{};simplifyProps({props:props,colormode:colormode,platform:platform,state:state,currentSpecificityMap:currentSpecificityMap,previouslyFlattenProps:previouslyFlattenProps,cascadePseudoProps:cascadePseudoProps},flattenProps,specificityMap,priority);return[flattenProps,specificityMap];};","map":{"version":3,"mappings":"k2BAAA,MAAOA,MAAP,KAAkB,cAAlB,CAEA,GAAMC,iBAAgB,CAAG,IAAzB,CACA,GAAMC,gBAAe,CAAG,GAAxB,CACA,GAAMC,gBAAe,CAAG,GAAxB,CACA,GAAMC,eAAc,CAAG,EAAvB,CACA,GAAMC,eAAc,CAAG,EAAvB,CACA,GAAMC,eAAc,CAAG,EAAvB,CACA,GAAMC,eAAc,CAAG,EAAvB,CACA,GAAMC,eAAc,CAAG,EAAvB,CACA,GAAMC,eAAc,CAAG,EAAvB,CAEA,GAAMC,eAAc,CAAG,EAAvB,CACA,GAAMC,eAAc,CAAG,EAAvB,CACA,GAAMC,sBAAqB,CAAG,CAC5BX,gBAD4B,CAE5BC,eAF4B,CAG5BC,eAH4B,CAI5BC,cAJ4B,CAK5BC,cAL4B,CAM5BC,cAN4B,CAO5BC,cAP4B,CAQ5BC,cAR4B,CAS5BC,cAT4B,CAU5BC,cAV4B,CAW5BC,cAX4B,CAA9B,CAaA,GAAME,yBAAwB,iEAC3BZ,gBAD2B,CACR,CADQ,wCAE3BC,eAF2B,CAET,CAFS,wCAG3BC,eAH2B,CAGT,CAHS,wCAI3BC,cAJ2B,CAIV,CAJU,wCAK3BC,cAL2B,CAKV,CALU,wCAM3BE,cAN2B,CAMV,CANU,wCAO3BD,cAP2B,CAOV,CAPU,wCAQ3BE,cAR2B,CAQV,CARU,wCAS3BC,cAT2B,CASV,CATU,wCAU3BC,cAV2B,CAUV,CAVU,wCAW3BC,cAX2B,CAWV,CAXU,wBAA9B,CAcA,GAAMG,eAAc,CAAG,CACrBC,IAAI,CAAE,CAAEC,WAAW,CAAE,UAAf,CAA2BC,QAAQ,CAAEN,cAArC,CADe,CAErBO,IAAI,CAAE,CAAEF,WAAW,CAAE,UAAf,CAA2BC,QAAQ,CAAEN,cAArC,CAFe,CAGrBQ,QAAQ,CAAE,CAAEH,WAAW,CAAE,UAAf,CAA2BC,QAAQ,CAAEN,cAArC,CAHW,CAKrBS,MAAM,CAAE,CAAEJ,WAAW,CAAE,WAAf,CAA4BC,QAAQ,CAAEN,cAAtC,CALa,CAMrBU,KAAK,CAAE,CAAEL,WAAW,CAAE,WAAf,CAA4BC,QAAQ,CAAEN,cAAtC,CANc,CASrBW,cAAc,CAAE,CACdN,WAAW,CAAE,OADC,CAEdO,SAAS,CAAE,iBAFG,CAGdN,QAAQ,CAAER,cAHI,CATK,CAcrBe,QAAQ,CAAE,CACRR,WAAW,CAAE,OADL,CAERO,SAAS,CAAE,WAFH,CAGRN,QAAQ,CAAER,cAHF,CAdW,CAoBrBgB,SAAS,CAAE,CACTT,WAAW,CAAE,OADJ,CAETO,SAAS,CAAE,YAFF,CAGTN,QAAQ,CAAER,cAHD,CApBU,CA0BrBiB,QAAQ,CAAE,CACRV,WAAW,CAAE,OADL,CAERO,SAAS,CAAE,WAFH,CAGRN,QAAQ,CAAET,cAHF,CA1BW,CA+BrBmB,MAAM,CAAE,CACNX,WAAW,CAAE,OADP,CAENO,SAAS,CAAE,WAFL,CAGNN,QAAQ,CAAEV,cAHJ,CA/Ba,CAoCrBqB,aAAa,CAAE,CACbZ,WAAW,CAAE,OADA,CAEbO,SAAS,CAAE,gBAFE,CAGbN,QAAQ,CAAEX,cAHG,CApCM,CAyCrBuB,MAAM,CAAE,CACNb,WAAW,CAAE,OADP,CAENO,SAAS,CAAE,WAFL,CAGNN,QAAQ,CAAEZ,cAHJ,CAzCa,CA8CrByB,QAAQ,CAAE,CACRd,WAAW,CAAE,OADL,CAERO,SAAS,CAAE,WAFH,CAGRN,QAAQ,CAAEb,cAHF,CA9CW,CAmDrB2B,SAAS,CAAE,CACTf,WAAW,CAAE,OADJ,CAETO,SAAS,CAAE,YAFF,CAGTN,QAAQ,CAAEd,eAHD,CAnDU,CAwDrB6B,QAAQ,CAAE,CACRhB,WAAW,CAAE,OADL,CAERO,SAAS,CAAE,WAFH,CAGRN,QAAQ,CAAEf,eAHF,CAxDW,CA6DrB+B,UAAU,CAAE,CACVjB,WAAW,CAAE,IADH,CAEVC,QAAQ,CAAEhB,gBAFA,CA7DS,CAAvB,CA0EA,MAAO,IAAMiC,mBAAkB,CAAG,QAArBA,mBAAqB,CAChCC,SADgC,CAEhCC,QAFgC,CAGhCC,eAHgC,CAK7B,CACH,GAAI,CAACF,SAAL,CAAgB,MAAO,KAAP,CAChB,GAAI,CAACC,QAAL,CAAe,MAAO,MAAP,CACf,GAAME,UAAS,CAAGD,eAAe,CAC7BzB,qBAAqB,CAAC2B,MAAtB3B,CAA+B,CADF,CAE7BA,qBAAqB,CAAC2B,MAF1B,CAGA,IAAK,GAAIC,MAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGF,SAA5B,CAAuCE,KAAK,EAA5C,CAAgD,CAC9C,GACEL,SAAS,CAACvB,qBAAqB,CAAC4B,KAAD,CAAtB,CAATL,CACAC,QAAQ,CAACxB,qBAAqB,CAAC4B,KAAD,CAAtB,CAFV,CAGE,CACA,MAAO,MAAP,CAJF,KAKO,IACLL,SAAS,CAACvB,qBAAqB,CAAC4B,KAAD,CAAtB,CAATL,CACAC,QAAQ,CAACxB,qBAAqB,CAAC4B,KAAD,CAAtB,CAFH,CAGL,CACA,MAAO,KAAP,CACD,CACF,CACD,MAAO,KAAP,CAxBK,EA2BP,GAAMC,wBAAuB,CAAG,QAA1BA,wBAA0B,MAU1B,IATJC,SASI,MATJA,QASI,CARJC,KAQI,MARJA,KAQI,CAPJC,QAOI,MAPJA,QAOI,CANJC,SAMI,MANJA,SAMI,CACJ,GAAI/B,cAAc,CAAC4B,QAAD,CAAd5B,CAAyBE,WAAzBF,GAAyC,UAA7C,CAAyD,CACvD,MAAO4B,SAAQ,cAASE,QAAT,CAAf,CADF,KAEO,IAAI9B,cAAc,CAAC4B,QAAD,CAAd5B,CAAyBE,WAAzBF,GAAyC,WAA7C,CAA0D,CAC/D,MAAO4B,SAAQ,cAASG,SAAT,CAAf,CADK,KAEA,IAAI/B,cAAc,CAAC4B,QAAD,CAAd5B,CAAyBE,WAAzBF,GAAyC,OAA7C,CAAsD,CAE3D,MAAO6B,MAAK,CAAC7B,cAAc,CAAC4B,QAAD,CAAd5B,CAAyBS,SAA1B,CAAZ,CAFK,KAGA,IAAIT,cAAc,CAAC4B,QAAD,CAAd5B,CAAyBE,WAAzBF,GAAyC,IAA7C,CAAmD,CACxD,MAAO,KAAP,CADK,KAEA,CACL,MAAO,MAAP,CACD,CAtBH,EAyBA,GAAMgC,cAAa,CAAG,QAAhBA,cAAgB,OAajB,IAXDC,MAWC,OAXDA,KAWC,CAVDF,SAUC,OAVDA,SAUC,CATDD,QASC,OATDA,QASC,CARDD,KAQC,OARDA,KAQC,CAPDK,kBAOC,OAPDA,kBAOC,CANDC,sBAMC,OANDA,sBAMC,CALDC,kBAKC,OALDA,kBAKC,IAHHC,aAGG,2DAHiB,EAGjB,IAFHC,eAEG,2DAFmB,EAEnB,IADHnC,SACG,2CACH,GAAMoC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACX,QAAD,CAAmBY,eAAnB,CAA+C,CACtE,GAAIpB,kBAAkB,CAACkB,cAAc,CAACV,QAAD,CAAf,CAA2BY,eAA3B,CAA4C,KAA5C,CAAtB,CAA0E,CACxE,GAAIC,eAAyB,aAAzBA,EAA0CR,KAAK,CAACS,KAApD,CAA2D,CAEzDC,OAAO,CAACC,GAARD,cACQf,QADR,EAEE,iBAFFe,CAGE,kDAHFA,EAKD,CACDL,cAAc,CAACV,QAAD,CAAdU,CAA2BE,eAA3BF,CAEAD,YAAY,CAACT,QAAD,CAAZS,CAAyBnD,KAAK,CAC5B,EAD4B,CAE5BmD,YAAY,CAACT,QAAD,CAFgB,CAG5BK,KAAK,CAACL,QAAD,CAHuB,CAA9BS,CAXF,KAgBO,CACL,GAAII,eAAyB,aAAzBA,EAA0CR,KAAK,CAACS,KAApD,CAA2D,CAEzDC,OAAO,CAACC,GAARD,cACQf,QADR,EAEE,iBAFFe,CAGE,iDAHFA,EAKD,CACDN,YAAY,CAACT,QAAD,CAAZS,CAAyBnD,KAAK,CAC5B,EAD4B,CAE5B+C,KAAK,CAACL,QAAD,CAFuB,CAG5BS,YAAY,CAACT,QAAD,CAHgB,CAA9BS,CAKD,CA/BH,EAiCA,IAAK,GAAMT,SAAX,GAAuBK,MAAvB,CAA8B,2BAE5B,GAAMO,gBAAe,CAAGN,kBAAkB,kBACjCA,kBADiC,iCAGjCnC,wBAHiC,wBAInCH,cAJmC,CAIlBO,QAJkB,EAA1C,CAOA,GAEE0B,KAAK,wBAAC7B,cAAc,CAAC4B,QAAD,CAAf,gDAACiB,sBAA0BpC,SAA3B,CAALoB,EACA,CAAC,OAAD,CAAU,QAAV,CAAoB,MAApB,CAA4B,MAA5B,CAAoC,UAApC,CAAgD,YAAhD,EAA8DiB,QAA9D,CACElB,QADF,CAHF,CAME,CAEA,GAAID,uBAAuB,CAAC,CAAEC,QAAF,CAAEA,QAAF,CAAYC,KAAZ,CAAYA,KAAZ,CAAmBC,QAAnB,CAAmBA,QAAnB,CAA6BC,mBAA7B,CAAD,CAA3B,CAAuE,CAErE,GAAIU,eAAyB,aAAzBA,EAA0CR,KAAK,CAACS,KAApD,CAA2D,CAEzDC,OAAO,CAACC,GAARD,cACQf,QADR,EAEE,iBAFFe,CAGE,uBAHFA,EAJmE,CAWrEH,eAAe,CAACxC,cAAc,CAAC4B,QAAD,CAAd5B,CAAyBG,QAA1B,CAAfqC,GACAR,aAAa,CACX,CACEC,KAAK,CAAEA,KAAK,CAACL,QAAD,CADd,CAEEG,SAFF,CAEEA,SAFF,CAGED,QAHF,CAGEA,QAHF,CAIED,KAJF,CAIEA,KAJF,CAKEK,kBAAkB,CAAEM,eALtB,CAMEL,sBAAsB,CAAEA,sBAN1B,CAOEC,qCAPF,CADW,CAUXC,YAVW,CAWXC,cAXW,CAYXnC,QAZW,CAAb6B,CAdF,CANF,KAoCO,IAAIhC,cAAc,CAAC4B,QAAD,CAAd5B,GAA6B+C,SAAjC,CAA4C,CACjD,GAAInB,QAAQ,CAACoB,UAATpB,CAAoB,GAApBA,CAAJ,CAA8B,CAE5BW,gBAAgB,CAACX,QAAD,CAAWY,eAAX,CAAhBD,CAFF,KAGO,CACL,GACEnB,kBAAkB,CAACkB,cAAc,CAACV,QAAD,CAAf,CAA2BY,eAA3B,CAA4C,KAA5C,CADpB,CAEE,CACA,GAAIC,eAAyB,aAAzBA,EAA0CR,KAAK,CAACS,KAApD,CAA2D,CAEzDC,OAAO,CAACC,GAARD,cACQf,QADR,EAEE,iBAFFe,CAGE,wBAHFA,EAKD,CACDL,cAAc,CAACV,QAAD,CAAdU,CAA2BE,eAA3BF,CAEAD,YAAY,CAACT,QAAD,CAAZS,CAAyBJ,KAAK,CAACL,QAAD,CAA9BS,CAbF,KAcO,CACL,GAAII,eAAyB,aAAzBA,EAA0CR,KAAK,CAACS,KAApD,CAA2D,CAEzDC,OAAO,CAACC,GAARD,cAAkBf,QAAlB,EAA8B,iBAA9Be,CAAiD,SAAjDA,EACD,CACF,CACF,CAzBI,KA0BA,CAEL,GAAI,CAACP,kBAAL,CAAyB,CACvB,MAAOC,aAAY,CAACT,QAAD,CAAnB,CACA,GAAIa,eAAyB,aAAzBA,EAA0CR,KAAK,CAACS,KAApD,CAA2D,CAEzDC,OAAO,CAACC,GAARD,cAAkBf,QAAlB,EAA8B,iBAA9Be,CAAiD,SAAjDA,EACD,CALH,KAMO,CACL,GAAIF,eAAyB,aAAzBA,EAA0CR,KAAK,CAACS,KAApD,CAA2D,CAEzDC,OAAO,CAACC,GAARD,cAAkBf,QAAlB,EAA8B,iBAA9Be,CAAiD,UAAjDA,EACD,CACDJ,gBAAgB,CAACX,QAAD,CAAWY,eAAX,CAAhBD,CACD,CACF,CACF,CAtIH,EAyIA,MAAO,IAAMU,eAAc,CAAG,QAAjBA,eAAiB,OAU5B9C,QAV4B,CAWzB,IATD8B,MASC,OATDA,KASC,CARDF,SAQC,OARDA,SAQC,CAPDD,QAOC,OAPDA,QAOC,CANDD,KAMC,OANDA,KAMC,CALDqB,qBAKC,OALDA,qBAKC,CAJDf,sBAIC,OAJDA,sBAIC,CAHDC,kBAGC,OAHDA,kBAGC,CACH,GAAMC,aAAiB,CAAG,EAA1B,CAEA,IAAK,GAAMT,SAAX,GAAuBK,MAAvB,CAA8B,4BAC5B,GAEEJ,KAAK,yBAAC7B,cAAc,CAAC4B,QAAD,CAAf,iDAACuB,uBAA0B1C,SAA3B,CAALoB,GAA+CkB,SAA/ClB,EACAD,QAAQ,CAACoB,UAATpB,CAAoB,GAApBA,CAHF,CAIE,CACAS,YAAY,CAACT,QAAD,CAAZS,CAAyBF,sBAAsB,CAACP,QAAD,CAA/CS,CACD,CACF,CAED,GAAMC,eAAc,CAAGY,qBAAqB,EAAI,EAAhD,CAEAlB,aAAa,CACX,CACEC,KADF,CACEA,KADF,CAEEF,SAFF,CAEEA,SAFF,CAGED,QAHF,CAGEA,QAHF,CAIED,KAJF,CAIEA,KAJF,CAKEqB,qBALF,CAKEA,qBALF,CAMEf,sBANF,CAMEA,sBANF,CAOEC,qCAPF,CADW,CAUXC,YAVW,CAWXC,cAXW,CAYXnC,QAZW,CAAb6B,CAeA,MAAO,CAACK,YAAD,CAAeC,cAAf,CAAP,CAzCK","names":["merge","SPECIFICITY_1000","SPECIFICITY_110","SPECIFICITY_100","SPECIFICITY_70","SPECIFICITY_60","SPECIFICITY_55","SPECIFICITY_50","SPECIFICITY_40","SPECIFICITY_30","SPECIFICITY_20","SPECIFICITY_10","specificityPrecedence","INITIAL_PROP_SPECIFICITY","pseudoPropsMap","_web","dependentOn","priority","_ios","_android","_light","_dark","_indeterminate","respondTo","_checked","_readOnly","_invalid","_focus","_focusVisible","_hover","_pressed","_disabled","_loading","_important","compareSpecificity","exisiting","upcoming","ignorebaseTheme","condition","length","index","shouldResolvePseudoProp","property","state","platform","colormode","simplifyProps","props","currentSpecificity","previouslyFlattenProps","cascadePseudoProps","flattenProps","specificityMap","mergePsuedoProps","propertySpecity","process","debug","console","log","_pseudoPropsMap$prope","includes","undefined","startsWith","propsFlattener","currentSpecificityMap","_pseudoPropsMap$prope2"],"sources":["propsFlattener.tsx"],"sourcesContent":["import merge from 'lodash.merge';\n\nconst SPECIFICITY_1000 = 1000;\nconst SPECIFICITY_110 = 110;\nconst SPECIFICITY_100 = 100;\nconst SPECIFICITY_70 = 70;\nconst SPECIFICITY_60 = 60;\nconst SPECIFICITY_55 = 55;\nconst SPECIFICITY_50 = 50;\nconst SPECIFICITY_40 = 40;\nconst SPECIFICITY_30 = 30;\n// SPECIFICITY_20 is being user for defferentiating between User Props and Theme Props. So any specificity less than SPECIFICITY_20 will be ovridable by user props.\nconst SPECIFICITY_20 = 20;\nconst SPECIFICITY_10 = 10;\nconst specificityPrecedence = [\n  SPECIFICITY_1000,\n  SPECIFICITY_110,\n  SPECIFICITY_100,\n  SPECIFICITY_70,\n  SPECIFICITY_60,\n  SPECIFICITY_55,\n  SPECIFICITY_50,\n  SPECIFICITY_40,\n  SPECIFICITY_30,\n  SPECIFICITY_20,\n  SPECIFICITY_10,\n];\nconst INITIAL_PROP_SPECIFICITY = {\n  [SPECIFICITY_1000]: 0,\n  [SPECIFICITY_110]: 0,\n  [SPECIFICITY_100]: 0,\n  [SPECIFICITY_70]: 0,\n  [SPECIFICITY_60]: 0,\n  [SPECIFICITY_50]: 0,\n  [SPECIFICITY_55]: 0,\n  [SPECIFICITY_40]: 0,\n  [SPECIFICITY_30]: 0,\n  [SPECIFICITY_20]: 0,\n  [SPECIFICITY_10]: 0,\n};\n\nconst pseudoPropsMap = {\n  _web: { dependentOn: 'platform', priority: SPECIFICITY_10 },\n  _ios: { dependentOn: 'platform', priority: SPECIFICITY_10 },\n  _android: { dependentOn: 'platform', priority: SPECIFICITY_10 },\n\n  _light: { dependentOn: 'colormode', priority: SPECIFICITY_10 },\n  _dark: { dependentOn: 'colormode', priority: SPECIFICITY_10 },\n\n  // TODO: have to add more interactionProps and stateProps\n  _indeterminate: {\n    dependentOn: 'state',\n    respondTo: 'isIndeterminate',\n    priority: SPECIFICITY_30,\n  },\n  _checked: {\n    dependentOn: 'state',\n    respondTo: 'isChecked',\n    priority: SPECIFICITY_30,\n  },\n  // Add new pseudeo props in between -------\n  _readOnly: {\n    dependentOn: 'state',\n    respondTo: 'isReadOnly',\n    priority: SPECIFICITY_30,\n  },\n  // Add new pseudeo props in between -------\n  _invalid: {\n    dependentOn: 'state',\n    respondTo: 'isInvalid',\n    priority: SPECIFICITY_40,\n  },\n  _focus: {\n    dependentOn: 'state',\n    respondTo: 'isFocused',\n    priority: SPECIFICITY_50,\n  },\n  _focusVisible: {\n    dependentOn: 'state',\n    respondTo: 'isFocusVisible',\n    priority: SPECIFICITY_55,\n  },\n  _hover: {\n    dependentOn: 'state',\n    respondTo: 'isHovered',\n    priority: SPECIFICITY_60,\n  },\n  _pressed: {\n    dependentOn: 'state',\n    respondTo: 'isPressed',\n    priority: SPECIFICITY_70,\n  },\n  _disabled: {\n    dependentOn: 'state',\n    respondTo: 'isDisabled',\n    priority: SPECIFICITY_100,\n  },\n  _loading: {\n    dependentOn: 'state',\n    respondTo: 'isLoading',\n    priority: SPECIFICITY_110,\n  },\n  _important: {\n    dependentOn: null,\n    priority: SPECIFICITY_1000,\n  },\n} as const;\n\ntype IPseudoPropsMap = typeof pseudoPropsMap;\ntype ExtractState<T extends IPseudoPropsMap> = {\n  // @ts-ignore\n  [P in keyof T as T[P]['respondTo']]?: boolean;\n};\nexport type IStateProps = ExtractState<IPseudoPropsMap>;\n\nexport const compareSpecificity = (\n  exisiting: any,\n  upcoming: any,\n  ignorebaseTheme?: boolean\n  // property?: any\n) => {\n  if (!exisiting) return true;\n  if (!upcoming) return false;\n  const condition = ignorebaseTheme\n    ? specificityPrecedence.length - 1\n    : specificityPrecedence.length;\n  for (let index = 0; index < condition; index++) {\n    if (\n      exisiting[specificityPrecedence[index]] >\n      upcoming[specificityPrecedence[index]]\n    ) {\n      return false;\n    } else if (\n      exisiting[specificityPrecedence[index]] <\n      upcoming[specificityPrecedence[index]]\n    ) {\n      return true;\n    }\n  }\n  return true;\n};\n\nconst shouldResolvePseudoProp = ({\n  property,\n  state,\n  platform,\n  colormode,\n}: {\n  property: keyof IPseudoPropsMap;\n  state: IStateProps;\n  platform: any;\n  colormode: any;\n}) => {\n  if (pseudoPropsMap[property].dependentOn === 'platform') {\n    return property === `_${platform}`;\n  } else if (pseudoPropsMap[property].dependentOn === 'colormode') {\n    return property === `_${colormode}`;\n  } else if (pseudoPropsMap[property].dependentOn === 'state') {\n    // @ts-ignore\n    return state[pseudoPropsMap[property].respondTo];\n  } else if (pseudoPropsMap[property].dependentOn === null) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst simplifyProps = (\n  {\n    props,\n    colormode,\n    platform,\n    state,\n    currentSpecificity,\n    previouslyFlattenProps,\n    cascadePseudoProps,\n  }: any,\n  flattenProps: any = {},\n  specificityMap: any = {},\n  priority: number\n) => {\n  const mergePsuedoProps = (property: string, propertySpecity: object) => {\n    if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n      if (process.env.NODE_ENV === 'development' && props.debug) {\n        /* eslint-disable-next-line */\n        console.log(\n          `%c ${property}`,\n          'color: #818cf8;',\n          'updated as internal prop with higher specificity'\n        );\n      }\n      specificityMap[property] = propertySpecity;\n      // merging internal props (like, _text, _stack ...)\n      flattenProps[property] = merge(\n        {},\n        flattenProps[property],\n        props[property]\n      );\n    } else {\n      if (process.env.NODE_ENV === 'development' && props.debug) {\n        /* eslint-disable-next-line */\n        console.log(\n          `%c ${property}`,\n          'color: #818cf8;',\n          'updated as internal prop with lower specificity'\n        );\n      }\n      flattenProps[property] = merge(\n        {},\n        props[property],\n        flattenProps[property]\n      );\n    }\n  };\n  for (const property in props) {\n    // NOTE: the order is important here. Keep in mind while specificity breakpoints.\n    const propertySpecity = currentSpecificity\n      ? { ...currentSpecificity }\n      : {\n          ...INITIAL_PROP_SPECIFICITY,\n          [SPECIFICITY_20]: priority,\n        };\n\n    if (\n      // @ts-ignore\n      state[pseudoPropsMap[property]?.respondTo] ||\n      ['_dark', '_light', '_web', '_ios', '_android', '_important'].includes(\n        property\n      )\n    ) {\n      // @ts-ignore\n      if (shouldResolvePseudoProp({ property, state, platform, colormode })) {\n        // NOTE: Handling (state driven) props like _important, _web, _ios, _android, _dark, _light, _disabled, _focus, _focusVisible, _hover, _pressed, _readOnly, _invalid, .... Only when they are true.\n        if (process.env.NODE_ENV === 'development' && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(\n            `%c ${property}`,\n            'color: #818cf8;',\n            'recursively resolving'\n          );\n        }\n        // @ts-ignore\n        propertySpecity[pseudoPropsMap[property].priority]++;\n        simplifyProps(\n          {\n            props: props[property],\n            colormode,\n            platform,\n            state,\n            currentSpecificity: propertySpecity,\n            previouslyFlattenProps: previouslyFlattenProps,\n            cascadePseudoProps,\n          },\n          flattenProps,\n          specificityMap,\n          priority\n        );\n      }\n      // @ts-ignore\n    } else if (pseudoPropsMap[property] === undefined) {\n      if (property.startsWith('_')) {\n        // NOTE: Handling (internal) props like _text, _stack, ....\n        mergePsuedoProps(property, propertySpecity);\n      } else {\n        if (\n          compareSpecificity(specificityMap[property], propertySpecity, false)\n        ) {\n          if (process.env.NODE_ENV === 'development' && props.debug) {\n            /* eslint-disable-next-line */\n            console.log(\n              `%c ${property}`,\n              'color: #818cf8;',\n              'updated as simple prop'\n            );\n          }\n          specificityMap[property] = propertySpecity;\n          // replacing simple props (like, p, m, bg, color, ...)\n          flattenProps[property] = props[property];\n        } else {\n          if (process.env.NODE_ENV === 'development' && props.debug) {\n            /* eslint-disable-next-line */\n            console.log(`%c ${property}`, 'color: #818cf8;', 'ignored');\n          }\n        }\n      }\n    } else {\n      // Can delete unused props\n      if (!cascadePseudoProps) {\n        delete flattenProps[property];\n        if (process.env.NODE_ENV === 'development' && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(`%c ${property}`, 'color: #818cf8;', 'deleted');\n        }\n      } else {\n        if (process.env.NODE_ENV === 'development' && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(`%c ${property}`, 'color: #818cf8;', 'cascaded');\n        }\n        mergePsuedoProps(property, propertySpecity);\n      }\n    }\n  }\n};\n\nexport const propsFlattener = (\n  {\n    props,\n    colormode,\n    platform,\n    state,\n    currentSpecificityMap,\n    previouslyFlattenProps,\n    cascadePseudoProps,\n  }: any,\n  priority: number\n) => {\n  const flattenProps: any = {};\n\n  for (const property in props) {\n    if (\n      // @ts-ignore\n      state[pseudoPropsMap[property]?.respondTo] === undefined &&\n      property.startsWith('_')\n    ) {\n      flattenProps[property] = previouslyFlattenProps[property];\n    }\n  }\n\n  const specificityMap = currentSpecificityMap || {};\n\n  simplifyProps(\n    {\n      props,\n      colormode,\n      platform,\n      state,\n      currentSpecificityMap,\n      previouslyFlattenProps,\n      cascadePseudoProps,\n    },\n    flattenProps,\n    specificityMap,\n    priority\n  );\n\n  return [flattenProps, specificityMap];\n};\n"]},"metadata":{},"sourceType":"module"}