{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.useRendererProps=useRendererProps;exports.default=RenderersPropsProvider;var _react=_interopRequireWildcard(require(\"react\"));var _mergeDeepRight=_interopRequireDefault(require(\"ramda/src/mergeDeepRight\"));var _defaultRendererProps=_interopRequireDefault(require(\"./defaultRendererProps\"));var _useProfiler=_interopRequireDefault(require(\"../hooks/useProfiler\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var RenderersPropsContext=_react.default.createContext(_defaultRendererProps.default);function useRendererProps(tagName){var userProps=_react.default.useContext(RenderersPropsContext);return userProps[tagName];}function RenderersPropsProvider(props){var profile=(0,_useProfiler.default)({prop:'renderersProps'});var mergedRenderersProps=(0,_react.useMemo)(function(){typeof __DEV__==='boolean'&&__DEV__&&profile();return(0,_mergeDeepRight.default)(_defaultRendererProps.default,props.renderersProps||{});},[props.renderersProps,profile]);return _react.default.createElement(RenderersPropsContext.Provider,{value:mergedRenderersProps},props.children);}","map":{"version":3,"mappings":"uJAAA,qDACA,gFAGA,oFACA,spCAEA,GAAMA,sBAAqB,CACzBC,eAAMC,aAAND,CAA8CE,6BAA9CF,CADF,CAYO,QAASG,iBAAT,CAGLC,OAHK,CAGO,CACZ,GAAMC,UAAS,CAAGL,eAAMM,UAANN,CAAiBD,qBAAjBC,CAAlB,CACA,MAAOK,UAAS,CAACD,OAAD,CAAhB,CACD,CAKc,QAASG,uBAAT,CACbC,KADa,CAEb,CACA,GAAMC,QAAO,CAAG,yBAAY,CAAEC,IAAI,CAAE,gBAAR,CAAZ,CAAhB,CACA,GAAMC,qBAAoB,CAAG,mBAAQ,UAAM,CACzC,MAAOC,QAAP,GAAmB,SAAnB,EAAgCA,OAAhC,EAA2CH,OAAO,EAAlD,CACA,MAAO,4BAAeP,6BAAf,CAAqCM,KAAK,CAACK,cAANL,EAAwB,EAA7D,CAAP,CAF2B,EAG1B,CAACA,KAAK,CAACK,cAAP,CAAuBJ,OAAvB,CAH0B,CAA7B,CAIA,MAAOT,gBAAMc,aAANd,CACLD,qBAAqB,CAACgB,QADjBf,CAEL,CAAEgB,KAAK,CAAEL,oBAAT,CAFKX,CAGLQ,KAAK,CAACS,QAHDjB,CAAP,CAKD","names":["RenderersPropsContext","React","createContext","defaultRendererProps","useRendererProps","tagName","userProps","useContext","RenderersPropsProvider","props","profile","prop","mergedRenderersProps","__DEV__","renderersProps","createElement","Provider","value","children"],"sources":["RenderersPropsProvider.tsx"],"sourcesContent":["import React, { PropsWithChildren, useMemo } from 'react';\nimport mergeDeepRight from 'ramda/src/mergeDeepRight';\n\nimport { RenderersProps, RenderHTMLPassedProps } from '../shared-types';\nimport defaultRendererProps from './defaultRendererProps';\nimport useProfiler from '../hooks/useProfiler';\n\nconst RenderersPropsContext =\n  React.createContext<Required<RenderersProps>>(defaultRendererProps);\n\n/**\n * Consume props from {@link RenderHTMLProps.renderersProps}.\n *\n * @param tagName - The name of the element.\n * @typeParam K - The type literal corresponding to the element name.\n * @returns props for this renderer.\n *\n * @public\n */\nexport function useRendererProps<\n  RendererProps extends RenderersProps = RenderersProps,\n  K extends keyof RendererProps = keyof RendererProps\n>(tagName: K) {\n  const userProps = React.useContext(RenderersPropsContext) as RendererProps;\n  return userProps[tagName];\n}\n\n/**\n * @internal\n */\nexport default function RenderersPropsProvider(\n  props: PropsWithChildren<RenderHTMLPassedProps>\n) {\n  const profile = useProfiler({ prop: 'renderersProps' });\n  const mergedRenderersProps = useMemo(() => {\n    typeof __DEV__ === 'boolean' && __DEV__ && profile();\n    return mergeDeepRight(defaultRendererProps, props.renderersProps || {});\n  }, [props.renderersProps, profile]);\n  return React.createElement(\n    RenderersPropsContext.Provider,\n    { value: mergedRenderersProps as Required<RenderersProps> },\n    props.children\n  );\n}\n"]},"metadata":{},"sourceType":"script"}