{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"disabled\",\"isDisabled\",\"isInvalid\",\"isChecked\",\"defaultIsChecked\",\"accessibilityLabel\",\"accessibilityHint\",\"onToggle\",\"value\",\"onValueChange\",\"isHovered\"],_excluded2=[\"onTrackColor\",\"offTrackColor\",\"onThumbColor\",\"offThumbColor\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React,{memo,forwardRef}from'react';import{useToggleState}from'@react-stately/toggle';import RNSwitch from\"react-native-web/dist/exports/Switch\";import isNil from'lodash.isnil';import{usePropsResolution}from\"../../../hooks/useThemeProps\";import{useToken}from\"../../../hooks\";import{makeStyledComponent}from\"../../../utils/styled\";import{mergeRefs}from\"../../../utils\";import{useHover}from'@react-native-aria/interactions';import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";import{useFormControlContext}from\"../../composites/FormControl\";import{combineContextAndProps}from\"../../../utils\";var StyledNBSwitch=makeStyledComponent(RNSwitch);var Switch=function Switch(_ref2,ref){var disabled=_ref2.disabled,isDisabled=_ref2.isDisabled,isInvalid=_ref2.isInvalid,isChecked=_ref2.isChecked,defaultIsChecked=_ref2.defaultIsChecked,accessibilityLabel=_ref2.accessibilityLabel,accessibilityHint=_ref2.accessibilityHint,onToggle=_ref2.onToggle,value=_ref2.value,_onValueChange=_ref2.onValueChange,isHoveredProp=_ref2.isHovered,props=_objectWithoutProperties(_ref2,_excluded);var formControlContext=useFormControlContext();var combinedProps=combineContextAndProps(formControlContext,props);var state=useToggleState({defaultSelected:!isNil(defaultIsChecked)?defaultIsChecked:false});var checked=!isNil(isChecked)?isChecked:state.isSelected;var _ref=React.useRef(null);var _useHover=useHover({},_ref),isHovered=_useHover.isHovered;var _usePropsResolution=usePropsResolution('Switch',props,{isHovered:isHoveredProp||isHovered,isDisabled:disabled||isDisabled||combinedProps.isDisabled,isInvalid:isInvalid||combinedProps.isInvalid,isChecked:checked}),_onTrackColor=_usePropsResolution.onTrackColor,_offTrackColor=_usePropsResolution.offTrackColor,_onThumbColor=_usePropsResolution.onThumbColor,_offThumbColor=_usePropsResolution.offThumbColor,resolvedProps=_objectWithoutProperties(_usePropsResolution,_excluded2);var onTrackColor=useToken('colors',_onTrackColor);var offTrackColor=useToken('colors',_offTrackColor);var onThumbColor=useToken('colors',_onThumbColor);var offThumbColor=useToken('colors',_offThumbColor);if(useHasResponsiveProps(_objectSpread(_objectSpread({},props),{},{isDisabled:isDisabled,isInvalid:isInvalid,isChecked:isChecked,defaultIsChecked:defaultIsChecked,accessibilityLabel:accessibilityLabel,accessibilityHint:accessibilityHint}))){return null;}return React.createElement(StyledNBSwitch,_extends({accessibilityLabel:accessibilityLabel,accessibilityHint:accessibilityHint,trackColor:{false:offTrackColor,true:onTrackColor},thumbColor:checked?onThumbColor:offThumbColor,activeThumbColor:onThumbColor,ios_backgroundColor:offTrackColor},resolvedProps,{disabled:disabled||isDisabled||combinedProps.isDisabled,onValueChange:function onValueChange(val){_onValueChange&&_onValueChange(val);onToggle?onToggle(val):state.toggle();},value:value||checked,ref:mergeRefs([ref,_ref])}));};export default memo(forwardRef(Switch));","map":{"version":3,"mappings":"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","names":["React","memo","forwardRef","useToggleState","isNil","usePropsResolution","useToken","makeStyledComponent","mergeRefs","useHover","useHasResponsiveProps","useFormControlContext","combineContextAndProps","StyledNBSwitch","RNSwitch","Switch","ref","disabled","isDisabled","isInvalid","isChecked","defaultIsChecked","accessibilityLabel","accessibilityHint","onToggle","value","onValueChange","isHoveredProp","isHovered","props","formControlContext","combinedProps","state","defaultSelected","checked","isSelected","_ref","useRef","_onTrackColor","onTrackColor","_offTrackColor","offTrackColor","_onThumbColor","onThumbColor","_offThumbColor","offThumbColor","resolvedProps","trackColor","false","true","thumbColor","activeThumbColor","ios_backgroundColor","val","toggle"],"sources":["index.tsx"],"sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { useToggleState } from '@react-stately/toggle';\nimport { Switch as RNSwitch } from 'react-native';\nimport isNil from 'lodash.isnil';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { useToken } from '../../../hooks';\nimport { makeStyledComponent } from '../../../utils/styled';\nimport type { ISwitchProps } from './types';\nimport { mergeRefs } from '../../../utils';\nimport { useHover } from '@react-native-aria/interactions';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { useFormControlContext } from '../../composites/FormControl';\nimport { combineContextAndProps } from '../../../utils';\n\nconst StyledNBSwitch = makeStyledComponent(RNSwitch);\n\n// TODO: Needs proper refactor\nconst Switch = (\n  {\n    disabled,\n    isDisabled,\n    isInvalid,\n    isChecked,\n    defaultIsChecked,\n    accessibilityLabel,\n    accessibilityHint,\n    onToggle,\n    value,\n    onValueChange,\n    isHovered: isHoveredProp,\n    ...props\n  }: ISwitchProps,\n  ref: any\n) => {\n  const formControlContext = useFormControlContext();\n\n  const combinedProps = combineContextAndProps(formControlContext, props);\n\n  const state = useToggleState({\n    defaultSelected: !isNil(defaultIsChecked) ? defaultIsChecked : false,\n  });\n  const checked = !isNil(isChecked) ? isChecked : state.isSelected;\n  const _ref = React.useRef(null);\n  const { isHovered } = useHover({}, _ref);\n\n  const {\n    onTrackColor: _onTrackColor,\n    offTrackColor: _offTrackColor,\n    onThumbColor: _onThumbColor,\n    offThumbColor: _offThumbColor,\n    ...resolvedProps\n  } = usePropsResolution('Switch', props, {\n    isHovered: isHoveredProp || isHovered,\n    isDisabled: disabled || isDisabled || combinedProps.isDisabled,\n    isInvalid: isInvalid || combinedProps.isInvalid,\n    isChecked: checked,\n  });\n\n  const onTrackColor = useToken('colors', _onTrackColor);\n  const offTrackColor = useToken('colors', _offTrackColor);\n  const onThumbColor = useToken('colors', _onThumbColor);\n  const offThumbColor = useToken('colors', _offThumbColor);\n\n  //TODO: refactor for responsive prop\n  if (\n    useHasResponsiveProps({\n      ...props,\n      isDisabled,\n      isInvalid,\n      isChecked,\n      defaultIsChecked,\n      accessibilityLabel,\n      accessibilityHint,\n    })\n  ) {\n    return null;\n  }\n  return (\n    <StyledNBSwitch\n      accessibilityLabel={accessibilityLabel}\n      accessibilityHint={accessibilityHint}\n      trackColor={{ false: offTrackColor, true: onTrackColor }}\n      thumbColor={checked ? onThumbColor : offThumbColor}\n      activeThumbColor={onThumbColor} // react-native-web prop for active thumbColor\n      ios_backgroundColor={offTrackColor}\n      {...resolvedProps}\n      disabled={disabled || isDisabled || combinedProps.isDisabled}\n      onValueChange={(val: boolean) => {\n        onValueChange && onValueChange(val);\n        onToggle ? onToggle(val) : state.toggle();\n      }}\n      value={value || checked}\n      ref={mergeRefs([ref, _ref])}\n    />\n  );\n};\n\nexport default memo(forwardRef(Switch));\nexport type { ISwitchProps };\n"]},"metadata":{},"sourceType":"module"}